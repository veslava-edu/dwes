
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://veslava-edu.github.io/dwes/2-PHP/05-POO-arquitectura/">
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.18">
    
    
      
        <title>Arquitectura y Temas Avanzados - DWES</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/custom.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../assets/javascripts/glightbox.min.js"></script><script src="../../toggle-sidebar.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#arquitectura-y-temas-avanzados" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="DWES" class="md-header__button md-logo" aria-label="DWES" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DWES
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Arquitectura y Temas Avanzados
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Cambiar a modo oscuro"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Cambiar a modo oscuro" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Cambiar a modo claro"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Cambiar a modo claro" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Inicio

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../1-ArquitecturaWEB/UD1-Arquitectura-Web-y-Software-en-Servidor/" class="md-tabs__link">
          
  
  
  Arquitectura WEB y Servidor

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../01-Introduccion/" class="md-tabs__link">
          
  
  
  PHP

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="#" class="md-tabs__link">
          
  
  
  Node.js

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="DWES" class="md-nav__button md-logo" aria-label="DWES" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    DWES
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Inicio
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Arquitectura WEB y Servidor
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Arquitectura WEB y Servidor
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1-ArquitecturaWEB/UD1-Arquitectura-Web-y-Software-en-Servidor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    00 - Arquitectura-Web-y-Software-en-Servidor
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1-ArquitecturaWEB/UD1.1-Entorno-WAMP/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    01 - Entorno-WAMP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1-ArquitecturaWEB/UD1.2-Virtualizacion-Docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    02 - Virtualizacion-Docker
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1-ArquitecturaWEB/UD1.3-Control-Versiones-GIT/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    03 - Control-Versiones-GIT
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    PHP
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            PHP
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../01-Introduccion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    01 - Introducción
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../02-Sintaxis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    02 - Sintaxis
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../03-Control/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    03 - Estructuras de Control
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../04-Arrays-Funciones-Strings/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    04 - Arrays, Funciones y Strings
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../05-POO/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    05 - POO - Programación Orientada a Objetos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../06-Include/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    06 - Include y Require
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../07-GET-POST-Formularios/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    07 - GET y POST - Formularios
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../08-Gesti%C3%B3n-de-estado-Cookies-Sesiones/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    08 - Gestión de estado - Cookies y Sesiones
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../09-Ficheros/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    09 - Ficheros
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../10-BasesDatos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    10 - Bases de Datos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../11-Navegacion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    11 - Navegación
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../12-Dependencias/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    12 - Dependencias
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../13-Servicios-WEB/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    13 - Servicios WEB
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../14-Documentacion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    14 - Documentación
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../15-LOGS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    15 - Logs en PHP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../16-WebScraping/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    16 - WebScraping
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../17-Testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    17 - Testing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_18" >
        
          
          <label class="md-nav__link" for="__nav_3_18" id="__nav_3_18_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Laravel
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_18_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_18">
            <span class="md-nav__icon md-icon"></span>
            Laravel
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L1 - Introducción a Laravel
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L2 - Entorno
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L3 - Eloquent ORM
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L4 - Controladores
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L5 - Almacenamiento
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L6 - Vistas (Blade)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L7 - Autenticación y Autorización
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L8 - Sesiones y Cookies
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L9 - Testing
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Node.js
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Node.js
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    01 - Intro a Node.js
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    02 - Intro a TypeScript
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    03 - Intro a NestJS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    04 - Creación de Recursos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    05 - TypeORM
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    06 - Testing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    07 - Almacenamiento de Ficheros
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    08 - WebSockets
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    09 - Endpoints Avanzados
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    10 - MongoDB
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    11 - Seguridad
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    12 - Documentación
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    13 - Perfiles
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    14 - Despliegue
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#namespaces-organizando-nuestro-universo-de-clases" class="md-nav__link">
    <span class="md-ellipsis">
      Namespaces: Organizando Nuestro Universo de Clases
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tipado-estricto-propiedades-parametros-y-retornos" class="md-nav__link">
    <span class="md-ellipsis">
      Tipado Estricto: Propiedades, Parámetros y Retornos
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sobrecarga-de-objetos-propiedades-y-metodos-dinamicos" class="md-nav__link">
    <span class="md-ellipsis">
      Sobrecarga de Objetos: Propiedades y Métodos Dinámicos
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#enlace-estatico-en-tiempo-de-ejecucion-late-static-bindings" class="md-nav__link">
    <span class="md-ellipsis">
      Enlace Estático en Tiempo de Ejecución (Late Static Bindings)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#covarianza-y-contravarianza-flexibilidad-en-el-sistema-de-tipos" class="md-nav__link">
    <span class="md-ellipsis">
      Covarianza y Contravarianza: Flexibilidad en el Sistema de Tipos
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#serializacion-de-objetos-almacenando-el-estado" class="md-nav__link">
    <span class="md-ellipsis">
      Serialización de Objetos: Almacenando el Estado
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="arquitectura-y-temas-avanzados">Arquitectura y Temas Avanzados</h1>
<p>¡Felicidades, ingenieros! En los temas anteriores, montamos nuestra fábrica de software (<code>clases</code> y <code>objetos</code>), optimizamos la línea de producción (<code>herencia</code> y <code>traits</code>) y establecimos controles de calidad (<code>interfaces</code> y <code>excepciones</code>). Con los conceptos adicionales, afinamos el control sobre la maquinaria (<code>clonación</code>, <code>comparación</code> y <code>miembros estáticos</code>). Ahora estáis listos para el último paso: pasar de dirigir una fábrica a diseñar un polígono industrial completo.</p>
<p>Este tema se centra en la <strong>arquitectura de software</strong> y los patrones avanzados de la POO en PHP. Aprenderemos a organizar nuestro código para proyectos masivos con <strong>namespaces</strong>, a construir sistemas más robustos y auto-documentados con el <strong>tipado estricto</strong>, y a dominar los mecanismos internos de PHP para crear clases dinámicas y flexibles.</p>
<hr/>
<div class="admonition info">
<p class="admonition-title">Referencia Oficial</p>
<p>Estos son temas avanzados. La documentación oficial de PHP es tu mejor amiga para profundizar en los detalles más sutiles de cada uno.
<a href="https://www.php.net/manual/es/language.oop5.php"><strong>Manual de Clases y Objetos en PHP.net</strong></a></p>
</div>
<h2 id="namespaces-organizando-nuestro-universo-de-clases">Namespaces: Organizando Nuestro Universo de Clases</h2>
<p>Imagina que tu proyecto crece. Usas una librería para procesar pagos y otra para generar PDFs. ¿Qué pasa si ambas tienen una clase llamada <code>Request</code>? Se produciría un conflicto de nombres fatal. Los <strong>namespaces</strong> (espacios de nombres) son la solución de PHP a este problema.</p>
<div class="admonition note">
<p class="admonition-title">Definición: Namespace</p>
<p>Un <strong>namespace</strong> es un contenedor virtual para agrupar clases, interfaces, funciones y constantes relacionadas, evitando conflictos de nombres. Permite usar el mismo nombre para una clase en diferentes contextos sin que colisionen. Siguen una estructura jerárquica, similar a un sistema de ficheros.</p>
</div>
<p>Los namespaces son la base del estándar <strong>PSR-4</strong>, que dicta cómo un nombre de clase se mapea a un fichero en el disco, permitiendo la <strong>autocarga (autoloading)</strong>.</p>
<div class="highlight"><pre><span></span><code><span class="x">// Fichero: src/Facturacion/Cliente.php</span>
<span class="cp">&lt;?php</span>
<span class="c1">// Declaramos que todo en este fichero pertenece a este namespace</span>
<span class="k">namespace</span> <span class="nx">MiEmpresa\Facturacion</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Cliente</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">(</span><span class="k">public</span> <span class="nx">string</span> <span class="nv">$nombre</span><span class="p">)</span> <span class="p">{}</span>
<span class="p">}</span>

<span class="c1">// Fichero: src/Marketing/Cliente.php</span>
<span class="o">&lt;?</span><span class="nx">php</span>
<span class="k">namespace</span> <span class="nx">MiEmpresa\Marketing</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Cliente</span>
<span class="p">{</span>
    <span class="c1">// Esta clase es completamente diferente a la anterior</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">enviarNewsletter</span><span class="p">()</span><span class="o">:</span> <span class="nx">string</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="s2">"Enviando newsletter a los clientes de marketing..."</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>


<span class="c1">// Fichero: index.php</span>
<span class="o">&lt;?</span><span class="nx">php</span>
<span class="k">require_once</span> <span class="s1">'src/Facturacion/Cliente.php'</span><span class="p">;</span>
<span class="k">require_once</span> <span class="s1">'src/Marketing/Cliente.php'</span><span class="p">;</span>

<span class="c1">// Para usar las clases, debemos especificar su namespace completo</span>
<span class="nv">$clienteFactura</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\MiEmpresa\Facturacion\Cliente</span><span class="p">(</span><span class="s2">"Nexus Corp"</span><span class="p">);</span>

<span class="c1">// O podemos importar las clases con la palabra clave `use`</span>
<span class="k">use</span> <span class="nx">MiEmpresa\Facturacion\Cliente</span> <span class="k">as</span> <span class="nx">ClienteFacturacion</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">MiEmpresa\Marketing\Cliente</span> <span class="k">as</span> <span class="nx">ClienteMarketing</span><span class="p">;</span>

<span class="nv">$clienteFactura2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ClienteFacturacion</span><span class="p">(</span><span class="s2">"Acme Inc."</span><span class="p">);</span>
<span class="nv">$clienteMarketing</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ClienteMarketing</span><span class="p">();</span>

<span class="k">echo</span> <span class="nv">$clienteFactura</span><span class="o">-&gt;</span><span class="na">nombre</span><span class="p">;</span> <span class="c1">// Salida: Nexus Corp</span>
<span class="k">echo</span> <span class="s2">"&lt;br&gt;"</span><span class="p">;</span>
<span class="k">echo</span> <span class="nv">$clienteMarketing</span><span class="o">-&gt;</span><span class="na">enviarNewsletter</span><span class="p">();</span> <span class="c1">// Salida: Enviando newsletter...</span>
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Autoloading con Composer</p>
<p>En la práctica, nunca usarás <code>require_once</code> para las clases. Herramientas como <a href="https://getcomposer.org/">Composer</a> leen tu fichero <code>composer.json</code>, entienden tus namespaces (gracias a PSR-4), y generan un autoloader que carga las clases automáticamente cuando las necesitas.</p>
</div>
<div class="admonition info">
<p class="admonition-title">Referencia Oficial</p>
<p><a href="https://www.php.net/manual/es/language.namespaces.php"><strong>Manual de PHP sobre Namespaces</strong></a></p>
</div>
<p><br/><hr/></p>
<h2 id="tipado-estricto-propiedades-parametros-y-retornos">Tipado Estricto: Propiedades, Parámetros y Retornos</h2>
<p>PHP ha evolucionado para permitir un sistema de tipos cada vez más robusto. Declarar los tipos de las propiedades, los parámetros de los métodos y los valores de retorno (type hinting) no es solo una buena práctica, es una de las mejores herramientas para prevenir errores y mejorar la legibilidad y el mantenimiento del código.</p>
<ul>
<li><strong>Propiedades con Tipo (PHP 7.4+)</strong>: Se puede (y se debe) declarar el tipo de cada propiedad de una clase.</li>
<li><strong>Union Types (PHP 8.0+)</strong>: Una propiedad, parámetro o retorno puede aceptar uno de varios tipos, separados por <code>|</code>.</li>
<li><strong>Tipo <code>mixed</code> (PHP 8.0+)</strong>: Indica que se puede aceptar cualquier tipo.</li>
<li><strong>Tipo <code>never</code> (PHP 8.1+)</strong>: Indica que una función nunca retornará (por ejemplo, porque siempre lanza una excepción o llama a <code>exit()</code>).</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="k">declare</span><span class="p">(</span><span class="nx">strict_types</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span> <span class="c1">// ¡Fundamental para que el tipado funcione como se espera!</span>

<span class="k">class</span> <span class="nc">GestorArticulos</span>
<span class="p">{</span>
    <span class="c1">// Propiedades con tipo. La propiedad 'id' puede ser nula.</span>
    <span class="k">public</span> <span class="o">?</span><span class="nx">int</span> <span class="nv">$id</span><span class="p">;</span>
    <span class="k">public</span> <span class="nx">string</span> <span class="nv">$titulo</span><span class="p">;</span>

    <span class="c1">// Union Type: el autor puede ser un objeto Usuario o un simple string</span>
    <span class="k">public</span> <span class="nx">Usuario</span><span class="o">|</span><span class="nx">string</span> <span class="nv">$autor</span><span class="p">;</span>

    <span class="c1">// El constructor aprovecha la promoción de propiedades</span>
    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">(</span><span class="nx">string</span> <span class="nv">$titulo</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">titulo</span> <span class="o">=</span> <span class="nv">$titulo</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// El método retorna un objeto o null</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">obtenerAutor</span><span class="p">()</span><span class="o">:</span> <span class="nx">Usuario</span><span class="o">|</span><span class="k">null</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">autor</span> <span class="nx">instanceof</span> <span class="nx">Usuario</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">autor</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="k">null</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// Este método está garantizado que siempre devolverá un entero</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">contarPalabras</span><span class="p">()</span><span class="o">:</span> <span class="nx">int</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nb">str_word_count</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">titulo</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<div class="admonition danger">
<p class="admonition-title">Habilita el Modo Estricto</p>
<p>Para que PHP sea estricto con los tipos y lance un <code>TypeError</code> si no coinciden (en lugar de intentar convertirlos), <strong>siempre</strong> debes poner <code>declare(strict_types=1);</code> al principio de tus ficheros PHP.</p>
</div>
<div class="admonition info">
<p class="admonition-title">Referencia Oficial</p>
<ul>
<li><a href="https://www.php.net/manual/es/language.types.declarations.php#language.types.declarations.properties"><strong>Propiedades con Tipo</strong></a></li>
<li><a href="https://www.php.net/manual/es/language.types.declarations.php#language.types.declarations.union"><strong>Union Types</strong></a></li>
</ul>
</div>
<p><br/><hr/></p>
<h2 id="sobrecarga-de-objetos-propiedades-y-metodos-dinamicos">Sobrecarga de Objetos: Propiedades y Métodos Dinámicos</h2>
<p>La sobrecarga (<code>Overloading</code>) en PHP no se refiere a tener múltiples métodos con el mismo nombre pero diferentes argumentos como en otros lenguajes. Aquí, se refiere a la capacidad de una clase de interceptar el acceso a propiedades o métodos que <strong>no han sido declarados explícitamente</strong>, usando métodos mágicos.</p>
<p>Esto permite crear objetos muy flexibles y dinámicos, a menudo usados para envoltorios de datos (wrappers) o para implementar el patrón de diseño <em>Active Record</em>.</p>
<ul>
<li><strong>Sobrecarga de Propiedades</strong>:<ul>
<li><code>__set(string $nombre, mixed $valor)</code>: Se ejecuta al escribir en una propiedad inaccesible.</li>
<li><code>__get(string $nombre)</code>: Se ejecuta al leer una propiedad inaccesible.</li>
<li><code>__isset(string $nombre)</code>: Se ejecuta al llamar a <code>isset()</code> o <code>empty()</code> en una propiedad inaccesible.</li>
<li><code>__unset(string $nombre)</code>: Se ejecuta al llamar a <code>unset()</code> en una propiedad inaccesible.</li>
</ul>
</li>
<li><strong>Sobrecarga de Métodos</strong>:<ul>
<li><code>__call(string $nombre, array $argumentos)</code>: Se ejecuta al llamar a un método de objeto inaccesible.</li>
<li><code>__callStatic(string $nombre, array $argumentos)</code>: Se ejecuta al llamar a un método de clase inaccesible.</li>
</ul>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="k">class</span> <span class="nc">RegistroConfig</span>
<span class="p">{</span>
    <span class="k">private</span> <span class="k">array</span> <span class="nv">$datos</span> <span class="o">=</span> <span class="p">[];</span>

    <span class="k">public</span> <span class="k">function</span> <span class="fm">__set</span><span class="p">(</span><span class="nx">string</span> <span class="nv">$clave</span><span class="p">,</span> <span class="nx">mixed</span> <span class="nv">$valor</span><span class="p">)</span><span class="o">:</span> <span class="nx">void</span>
    <span class="p">{</span>
        <span class="k">echo</span> <span class="s2">"Set: '</span><span class="si">$clave</span><span class="s2">' =&gt; '</span><span class="si">$valor</span><span class="s2">'&lt;br&gt;"</span><span class="p">;</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">datos</span><span class="p">[</span><span class="nv">$clave</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$valor</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="fm">__get</span><span class="p">(</span><span class="nx">string</span> <span class="nv">$clave</span><span class="p">)</span><span class="o">:</span> <span class="nx">mixed</span>
    <span class="p">{</span>
        <span class="k">echo</span> <span class="s2">"Get: '</span><span class="si">$clave</span><span class="s2">'&lt;br&gt;"</span><span class="p">;</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">datos</span><span class="p">[</span><span class="nv">$clave</span><span class="p">]</span> <span class="o">??</span> <span class="k">null</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="fm">__call</span><span class="p">(</span><span class="nx">string</span> <span class="nv">$nombre</span><span class="p">,</span> <span class="k">array</span> <span class="nv">$argumentos</span><span class="p">)</span><span class="o">:</span> <span class="nx">void</span>
    <span class="p">{</span>
        <span class="k">echo</span> <span class="s2">"Llamando al método dinámico '</span><span class="si">$nombre</span><span class="s2">' con los argumentos: "</span>
             <span class="o">.</span> <span class="nb">implode</span><span class="p">(</span><span class="s1">', '</span><span class="p">,</span> <span class="nv">$argumentos</span><span class="p">)</span> <span class="o">.</span> <span class="s2">"&lt;br&gt;"</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="nv">$config</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">RegistroConfig</span><span class="p">();</span>

<span class="c1">// Estas llamadas activan __set()</span>
<span class="nv">$config</span><span class="o">-&gt;</span><span class="na">nombre_db</span> <span class="o">=</span> <span class="s2">"produccion_db"</span><span class="p">;</span>
<span class="nv">$config</span><span class="o">-&gt;</span><span class="na">host_db</span> <span class="o">=</span> <span class="s2">"localhost"</span><span class="p">;</span>

<span class="c1">// Esta llamada activa __get()</span>
<span class="k">echo</span> <span class="s2">"La base de datos es: "</span> <span class="o">.</span> <span class="nv">$config</span><span class="o">-&gt;</span><span class="na">nombre_db</span> <span class="o">.</span> <span class="s2">"&lt;br&gt;"</span><span class="p">;</span>

<span class="c1">// Esta llamada activa __call()</span>
<span class="nv">$config</span><span class="o">-&gt;</span><span class="na">guardarConfiguracion</span><span class="p">(</span><span class="s1">'fichero.conf'</span><span class="p">,</span> <span class="s1">'backup'</span><span class="p">);</span>
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">Referencia Oficial</p>
<p><a href="https://www.php.net/manual/es/language.oop5.overloading.php"><strong>Manual de PHP sobre Sobrecarga</strong></a></p>
</div>
<p><br/><hr/></p>
<h2 id="enlace-estatico-en-tiempo-de-ejecucion-late-static-bindings">Enlace Estático en Tiempo de Ejecución (Late Static Bindings)</h2>
<p>Ya vimos la diferencia entre <code>$this</code> (la instancia) y <code>self</code> (la clase). Pero en un contexto de herencia, <code>self</code> tiene una limitación: siempre se refiere a la clase donde el método fue definido, no a la clase que lo está llamando. El <strong>enlace estático en tiempo de ejecución</strong> soluciona esto con la palabra clave <code>static::</code>.</p>
<div class="admonition note">
<p class="admonition-title">Diferencia Clave: <code>self::</code> vs <code>static::</code></p>
<ul>
<li><code>self::</code>: Resuelve el nombre de la clase en <strong>tiempo de compilación</strong>. Se refiere a la clase donde el método está escrito.</li>
<li><code>static::</code>: Resuelve el nombre de la clase en <strong>tiempo de ejecución</strong>. Se refiere a la clase que fue llamada originalmente.</li>
</ul>
</div>
<p>Este concepto es fundamental para implementar correctamente ciertos patrones de diseño, como <em>Active Record</em> o <em>Factories</em> que operan con herencia.</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="k">abstract</span> <span class="k">class</span> <span class="nc">ModeloBase</span>
<span class="p">{</span>
    <span class="k">protected</span> <span class="k">static</span> <span class="nx">string</span> <span class="nv">$tabla</span> <span class="o">=</span> <span class="s1">'base'</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">obtenerNombreTabla</span><span class="p">()</span><span class="o">:</span> <span class="nx">string</span>
    <span class="p">{</span>
        <span class="c1">// `self` siempre apuntará a ModeloBase</span>
        <span class="c1">// return self::$tabla;</span>

        <span class="c1">// `static` apuntará a la clase que llame al método (Usuario o Pedido)</span>
        <span class="k">return</span> <span class="k">static</span><span class="o">::</span><span class="nv">$tabla</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nc">Usuario</span> <span class="k">extends</span> <span class="nx">ModeloBase</span>
<span class="p">{</span>
    <span class="c1">// Sobrescribimos la propiedad estática</span>
    <span class="k">protected</span> <span class="k">static</span> <span class="nx">string</span> <span class="nv">$tabla</span> <span class="o">=</span> <span class="s1">'usuarios'</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nc">Pedido</span> <span class="k">extends</span> <span class="nx">ModeloBase</span>
<span class="p">{</span>
    <span class="k">protected</span> <span class="k">static</span> <span class="nx">string</span> <span class="nv">$tabla</span> <span class="o">=</span> <span class="s1">'pedidos'</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Con `self::` en el método, ambas líneas devolverían 'base'.</span>
<span class="c1">// Con `static::`, obtenemos el resultado esperado:</span>

<span class="k">echo</span> <span class="s2">"Tabla del modelo Usuario: "</span> <span class="o">.</span> <span class="nx">Usuario</span><span class="o">::</span><span class="na">obtenerNombreTabla</span><span class="p">()</span> <span class="o">.</span> <span class="s2">"&lt;br&gt;"</span><span class="p">;</span> <span class="c1">// Salida: usuarios</span>
<span class="k">echo</span> <span class="s2">"Tabla del modelo Pedido: "</span> <span class="o">.</span> <span class="nx">Pedido</span><span class="o">::</span><span class="na">obtenerNombreTabla</span><span class="p">()</span> <span class="o">.</span> <span class="s2">"&lt;br&gt;"</span><span class="p">;</span>  <span class="c1">// Salida: pedidos</span>
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">Referencia Oficial</p>
<p><a href="https://www.php.net/manual/es/language.oop5.late-static-bindings.php"><strong>Manual de PHP sobre Enlace Estático en Tiempo de Ejecución</strong></a></p>
</div>
<p><br/><hr/></p>
<h2 id="covarianza-y-contravarianza-flexibilidad-en-el-sistema-de-tipos">Covarianza y Contravarianza: Flexibilidad en el Sistema de Tipos</h2>
<p>Estos son dos principios avanzados que ofrecen más flexibilidad al sobrescribir métodos en clases hijas, manteniendo la seguridad del sistema de tipos.</p>
<ul>
<li><strong>Covarianza (para tipos de retorno)</strong>: Permite que un método en una clase hija devuelva un tipo <strong>más específico</strong> que el tipo de retorno del método padre.</li>
<li><strong>Contravarianza (para tipos de parámetros)</strong>: Permite que un método en una clase hija acepte un tipo de parámetro <strong>más genérico</strong> que el tipo del método padre.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="c1">// --- Ejemplo de Covarianza ---</span>

<span class="k">abstract</span> <span class="k">class</span> <span class="nc">FabricaAnimales</span>
<span class="p">{</span>
    <span class="k">abstract</span> <span class="k">public</span> <span class="k">function</span> <span class="nf">crearAnimal</span><span class="p">()</span><span class="o">:</span> <span class="nx">Animal</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nc">FabricaPerros</span> <span class="k">extends</span> <span class="nx">FabricaAnimales</span>
<span class="p">{</span>
    <span class="c1">// Válido: Perro es un subtipo (más específico) de Animal.</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">crearAnimal</span><span class="p">()</span><span class="o">:</span> <span class="nx">Perro</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nx">Perro</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// --- Ejemplo de Contravarianza ---</span>

<span class="k">abstract</span> <span class="k">class</span> <span class="nc">ConsumidorEventos</span>
<span class="p">{</span>
    <span class="k">abstract</span> <span class="k">public</span> <span class="k">function</span> <span class="nf">consumir</span><span class="p">(</span><span class="nx">EventoEspecifico</span> <span class="nv">$evento</span><span class="p">)</span><span class="o">:</span> <span class="nx">void</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nc">ConsumidorGenerico</span> <span class="k">extends</span> <span class="nx">ConsumidorEventos</span>
<span class="p">{</span>
    <span class="c1">// Válido: Evento es un supertipo (más genérico) de EventoEspecifico.</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">consumir</span><span class="p">(</span><span class="nx">Evento</span> <span class="nv">$evento</span><span class="p">)</span><span class="o">:</span> <span class="nx">void</span>
    <span class="p">{</span>
        <span class="k">echo</span> <span class="s2">"Consumiendo un evento de tipo: "</span> <span class="o">.</span> <span class="nb">get_class</span><span class="p">(</span><span class="nv">$evento</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Clases de soporte para los ejemplos</span>
<span class="k">interface</span> <span class="nx">Animal</span> <span class="p">{}</span>
<span class="k">class</span> <span class="nc">Perro</span> <span class="k">implements</span> <span class="nx">Animal</span> <span class="p">{}</span>
<span class="k">interface</span> <span class="nx">Evento</span> <span class="p">{}</span>
<span class="k">class</span> <span class="nc">EventoEspecifico</span> <span class="k">implements</span> <span class="nx">Evento</span> <span class="p">{}</span>
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">Referencia Oficial</p>
<p><a href="https://www.php.net/manual/es/language.oop5.variance.php"><strong>Manual de PHP sobre Covarianza y Contravarianza</strong></a></p>
</div>
<p><br/><hr/></p>
<h2 id="serializacion-de-objetos-almacenando-el-estado">Serialización de Objetos: Almacenando el Estado</h2>
<p>La serialización es el proceso de convertir un objeto (y su estado) en una cadena de texto. Esta cadena se puede almacenar en una base de datos, en un fichero, en una sesión o enviarse a través de una red. Luego, se puede "deserializar" para recrear el objeto original.</p>
<p>PHP ofrece dos pares de métodos mágicos para controlar este proceso:</p>
<ul>
<li><strong>Moderno (PHP 7.4+)</strong>:<ul>
<li><code>__serialize(): array</code>: Debe devolver un array asociativo con los datos que se deben serializar.</li>
<li><code>__unserialize(array $data)</code>: Recibe el array devuelto por <code>__serialize</code> y debe restaurar el estado del objeto.</li>
</ul>
</li>
<li><strong>Antiguo</strong>:<ul>
<li><code>__sleep(): array</code>: Debe devolver un array con los nombres de las propiedades que se deben serializar.</li>
<li><code>__wakeup()</code>: Se llama después de la deserialización, útil para restablecer conexiones a bases de datos, etc.</li>
</ul>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="k">class</span> <span class="nc">SesionUsuario</span>
<span class="p">{</span>
    <span class="k">private</span> <span class="o">?</span><span class="nx">PDO</span> <span class="nv">$db_handle</span> <span class="o">=</span> <span class="k">null</span><span class="p">;</span> <span class="c1">// No queremos serializar la conexión a la BD</span>

    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">(</span><span class="k">public</span> <span class="nx">int</span> <span class="nv">$id</span><span class="p">,</span> <span class="k">public</span> <span class="nx">string</span> <span class="nv">$nombre</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">conectarDB</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="k">function</span> <span class="nf">conectarDB</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span> <span class="p">{</span> <span class="cm">/* ... lógica de conexión ... */</span> <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">__serialize</span><span class="p">()</span><span class="o">:</span> <span class="k">array</span>
    <span class="p">{</span>
        <span class="k">echo</span> <span class="s2">"Serializando...&lt;br&gt;"</span><span class="p">;</span>
        <span class="c1">// Devolvemos solo los datos que queremos guardar</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="s1">'id'</span> <span class="o">=&gt;</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">id</span><span class="p">,</span>
            <span class="s1">'nombre'</span> <span class="o">=&gt;</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">nombre</span><span class="p">,</span>
        <span class="p">];</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">__unserialize</span><span class="p">(</span><span class="k">array</span> <span class="nv">$data</span><span class="p">)</span><span class="o">:</span> <span class="nx">void</span>
    <span class="p">{</span>
        <span class="k">echo</span> <span class="s2">"Deserializando...&lt;br&gt;"</span><span class="p">;</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">id</span> <span class="o">=</span> <span class="nv">$data</span><span class="p">[</span><span class="s1">'id'</span><span class="p">];</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">nombre</span> <span class="o">=</span> <span class="nv">$data</span><span class="p">[</span><span class="s1">'nombre'</span><span class="p">];</span>
        <span class="c1">// Restablecemos la conexión a la BD que se perdió en la serialización</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">conectarDB</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="nv">$sesion</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SesionUsuario</span><span class="p">(</span><span class="mi">101</span><span class="p">,</span> <span class="s2">"Marta"</span><span class="p">);</span>

<span class="nv">$cadenaSerializada</span> <span class="o">=</span> <span class="nb">serialize</span><span class="p">(</span><span class="nv">$sesion</span><span class="p">);</span>
<span class="k">echo</span> <span class="s2">"Cadena guardada: "</span> <span class="o">.</span> <span class="nb">htmlspecialchars</span><span class="p">(</span><span class="nv">$cadenaSerializada</span><span class="p">)</span> <span class="o">.</span> <span class="s2">"&lt;br&gt;"</span><span class="p">;</span>

<span class="nb">unset</span><span class="p">(</span><span class="nv">$sesion</span><span class="p">);</span> <span class="c1">// Destruimos el objeto original</span>

<span class="nv">$sesionRestaurada</span> <span class="o">=</span> <span class="nb">unserialize</span><span class="p">(</span><span class="nv">$cadenaSerializada</span><span class="p">);</span>
<span class="k">echo</span> <span class="s2">"Usuario restaurado: "</span> <span class="o">.</span> <span class="nv">$sesionRestaurada</span><span class="o">-&gt;</span><span class="na">nombre</span><span class="p">;</span>
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">Referencia Oficial</p>
<p><a href="https://www.php.net/manual/es/language.oop5.serialization.php"><strong>Manual de PHP sobre Serialización de Objetos</strong></a></p>
</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.sections", "navigation.top"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.92b07e13.min.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>