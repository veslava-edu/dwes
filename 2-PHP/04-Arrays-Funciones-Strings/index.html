
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="https://veslava-edu.github.io/dwes/2-PHP/04-Arrays-Funciones-Strings/" rel="canonical"/>
<link href="../03-Control/" rel="prev"/>
<link href="../05-POO/" rel="next"/>
<link href="../../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.6.18" name="generator"/>
<title>04 - Arrays, Funciones y Strings - DWES</title>
<link href="../../assets/stylesheets/main.7e37652d.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.06af60db.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="../../stylesheets/custom.css" rel="stylesheet"/>
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
<link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../assets/javascripts/glightbox.min.js"></script><script src="../../toggle-sidebar.js"></script></link><script src="../../js/unpkg.com/d3@7.js" type="text/javascript"></script><script src="../../js/unpkg.com/markmap-lib@0.18.js" type="text/javascript"></script><script src="../../js/unpkg.com/markmap-view@0.18.js" type="text/javascript"></script><style type="text/css">div.mkdocs-markmap {
    width: 100%;
    min-height: 1em;
    border: 1px solid grey;
}
.mkdocs-markmap > svg {
    width: 100%;
    height: 100%;
    display: block;
}
</style></head>
<body data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="default" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#ud4-arrays-funciones-y-cadenas-el-kit-de-herramientas-del-programador-php">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="DWES" class="md-header__button md-logo" data-md-component="logo" href="../.." title="DWES">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            DWES
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              04 - Arrays, Funciones y Strings
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Cambiar a modo oscuro" class="md-option" data-md-color-accent="indigo" data-md-color-media="" data-md-color-primary="indigo" data-md-color-scheme="default" id="__palette_0" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Cambiar a modo oscuro">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
</label>
<input aria-label="Cambiar a modo claro" class="md-option" data-md-color-accent="indigo" data-md-color-media="" data-md-color-primary="black" data-md-color-scheme="slate" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_0" hidden="" title="Cambiar a modo claro">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
</label>
</form>
<script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../..">
        
  
  
    
  
  Inicio

      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../1-ArquitecturaWEB/UD1-Arquitectura-Web-y-Software-en-Servidor/">
          
  
  
  Arquitectura WEB y Servidor

        </a>
</li>
<li class="md-tabs__item md-tabs__item--active">
<a class="md-tabs__link" href="../01-Introduccion/">
          
  
  
  PHP

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="#">
          
  
  
  Node.js

        </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="DWES" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="DWES">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg>
</a>
    DWES
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../..">
<span class="md-ellipsis">
    Inicio
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
<span class="md-ellipsis">
    Arquitectura WEB y Servidor
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
            Arquitectura WEB y Servidor
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../1-ArquitecturaWEB/UD1-Arquitectura-Web-y-Software-en-Servidor/">
<span class="md-ellipsis">
    00 - Arquitectura-Web-y-Software-en-Servidor
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../1-ArquitecturaWEB/UD1.1-Entorno-WAMP/">
<span class="md-ellipsis">
    01 - Entorno-WAMP
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../1-ArquitecturaWEB/UD1.2-Virtualizacion-Docker/">
<span class="md-ellipsis">
    02 - Virtualizacion-Docker
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../1-ArquitecturaWEB/UD1.3-Control-Versiones-GIT/">
<span class="md-ellipsis">
    03 - Control-Versiones-GIT
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
<span class="md-ellipsis">
    PHP
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            PHP
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../01-Introduccion/">
<span class="md-ellipsis">
    01 - Introducción
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../02-Sintaxis/">
<span class="md-ellipsis">
    02 - Sintaxis
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../03-Control/">
<span class="md-ellipsis">
    03 - Estructuras de Control
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    04 - Arrays, Funciones y Strings
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    04 - Arrays, Funciones y Strings
    
  </span>
</a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#conceptos-fundamentales">
<span class="md-ellipsis">
      Conceptos Fundamentales
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#desarrollo-y-ejemplos-practicos">
<span class="md-ellipsis">
      Desarrollo y Ejemplos Prácticos
    </span>
</a>
<nav aria-label="Desarrollo y Ejemplos Prácticos" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#arrays-las-cajas-de-almacenamiento-de-php">
<span class="md-ellipsis">
      Arrays: Las Cajas de Almacenamiento de PHP
    </span>
</a>
<nav aria-label="Arrays: Las Cajas de Almacenamiento de PHP" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#creacion-y-acceso-a-arrays">
<span class="md-ellipsis">
      Creación y Acceso a Arrays
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#la-mejor-forma-de-recorrer-arrays-foreach">
<span class="md-ellipsis">
      La mejor forma de recorrer Arrays: foreach
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#operaciones-comunes-con-arrays">
<span class="md-ellipsis">
      Operaciones Comunes con Arrays
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#arrays-multidimensionales">
<span class="md-ellipsis">
      Arrays Multidimensionales
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#funciones-nuestros-bloques-de-codigo-reutilizables">
<span class="md-ellipsis">
      Funciones: Nuestros Bloques de Código Reutilizables
    </span>
</a>
<nav aria-label="Funciones: Nuestros Bloques de Código Reutilizables" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#definicion-parametros-y-return">
<span class="md-ellipsis">
      Definición, Parámetros y return
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#paso-por-valor-vs-paso-por-referencia">
<span class="md-ellipsis">
      Paso por Valor vs. Paso por Referencia
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cadenas-manipulando-texto-como-un-profesional">
<span class="md-ellipsis">
      Cadenas: Manipulando Texto como un Profesional
    </span>
</a>
<nav aria-label="Cadenas: Manipulando Texto como un Profesional" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#creacion-comillas-simples-vs-dobles">
<span class="md-ellipsis">
      Creación: Comillas Simples vs. Dobles
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#funciones-esenciales-para-cadenas">
<span class="md-ellipsis">
      Funciones Esenciales para Cadenas
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#aplicacion-en-el-mundo-real">
<span class="md-ellipsis">
      Aplicación en el Mundo Real
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#para-saber-mas">
<span class="md-ellipsis">
      Para Saber Más
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicios">
<span class="md-ellipsis">
      EJERCICIOS
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../05-POO/">
<span class="md-ellipsis">
    05 - POO - Programación Orientada a Objetos
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../06-Include/">
<span class="md-ellipsis">
    06 - Include y Require
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../07-GET-POST-Formularios/">
<span class="md-ellipsis">
    07 - GET y POST - Formularios
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../08-Gesti%C3%B3n-de-estado-Cookies-Sesiones/">
<span class="md-ellipsis">
    08 - Gestión de estado - Cookies y Sesiones
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../09-Ficheros/">
<span class="md-ellipsis">
    09 - Ficheros
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../10-BasesDatos/">
<span class="md-ellipsis">
    10 - Bases de Datos
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../11-Navegacion/">
<span class="md-ellipsis">
    11 - Navegación
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../12-Dependencias/">
<span class="md-ellipsis">
    12 - Dependencias
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../13-Servicios-WEB/">
<span class="md-ellipsis">
    13 - Servicios WEB
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../14-Documentacion/">
<span class="md-ellipsis">
    14 - Documentación
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../15-LOGS/">
<span class="md-ellipsis">
    15 - Logs en PHP
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../16-WebScraping/">
<span class="md-ellipsis">
    16 - WebScraping
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../17-Testing/">
<span class="md-ellipsis">
    17 - Testing
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_18" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_18" id="__nav_3_18_label" tabindex="">
<span class="md-ellipsis">
    Laravel
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_18_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_18">
<span class="md-nav__icon md-icon"></span>
            Laravel
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#">
<span class="md-ellipsis">
    L1 - Introducción a Laravel
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#">
<span class="md-ellipsis">
    L2 - Entorno
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#">
<span class="md-ellipsis">
    L3 - Eloquent ORM
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#">
<span class="md-ellipsis">
    L4 - Controladores
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#">
<span class="md-ellipsis">
    L5 - Almacenamiento
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#">
<span class="md-ellipsis">
    L6 - Vistas (Blade)
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#">
<span class="md-ellipsis">
    L7 - Autenticación y Autorización
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#">
<span class="md-ellipsis">
    L8 - Sesiones y Cookies
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#">
<span class="md-ellipsis">
    L9 - Testing
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
<span class="md-ellipsis">
    Node.js
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
            Node.js
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#">
<span class="md-ellipsis">
    01 - Intro a Node.js
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#">
<span class="md-ellipsis">
    02 - Intro a TypeScript
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#">
<span class="md-ellipsis">
    03 - Intro a NestJS
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#">
<span class="md-ellipsis">
    04 - Creación de Recursos
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#">
<span class="md-ellipsis">
    05 - TypeORM
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#">
<span class="md-ellipsis">
    06 - Testing
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#">
<span class="md-ellipsis">
    07 - Almacenamiento de Ficheros
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#">
<span class="md-ellipsis">
    08 - WebSockets
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#">
<span class="md-ellipsis">
    09 - Endpoints Avanzados
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#">
<span class="md-ellipsis">
    10 - MongoDB
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#">
<span class="md-ellipsis">
    11 - Seguridad
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#">
<span class="md-ellipsis">
    12 - Documentación
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#">
<span class="md-ellipsis">
    13 - Perfiles
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#">
<span class="md-ellipsis">
    14 - Despliegue
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#conceptos-fundamentales">
<span class="md-ellipsis">
      Conceptos Fundamentales
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#desarrollo-y-ejemplos-practicos">
<span class="md-ellipsis">
      Desarrollo y Ejemplos Prácticos
    </span>
</a>
<nav aria-label="Desarrollo y Ejemplos Prácticos" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#arrays-las-cajas-de-almacenamiento-de-php">
<span class="md-ellipsis">
      Arrays: Las Cajas de Almacenamiento de PHP
    </span>
</a>
<nav aria-label="Arrays: Las Cajas de Almacenamiento de PHP" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#creacion-y-acceso-a-arrays">
<span class="md-ellipsis">
      Creación y Acceso a Arrays
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#la-mejor-forma-de-recorrer-arrays-foreach">
<span class="md-ellipsis">
      La mejor forma de recorrer Arrays: foreach
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#operaciones-comunes-con-arrays">
<span class="md-ellipsis">
      Operaciones Comunes con Arrays
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#arrays-multidimensionales">
<span class="md-ellipsis">
      Arrays Multidimensionales
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#funciones-nuestros-bloques-de-codigo-reutilizables">
<span class="md-ellipsis">
      Funciones: Nuestros Bloques de Código Reutilizables
    </span>
</a>
<nav aria-label="Funciones: Nuestros Bloques de Código Reutilizables" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#definicion-parametros-y-return">
<span class="md-ellipsis">
      Definición, Parámetros y return
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#paso-por-valor-vs-paso-por-referencia">
<span class="md-ellipsis">
      Paso por Valor vs. Paso por Referencia
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cadenas-manipulando-texto-como-un-profesional">
<span class="md-ellipsis">
      Cadenas: Manipulando Texto como un Profesional
    </span>
</a>
<nav aria-label="Cadenas: Manipulando Texto como un Profesional" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#creacion-comillas-simples-vs-dobles">
<span class="md-ellipsis">
      Creación: Comillas Simples vs. Dobles
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#funciones-esenciales-para-cadenas">
<span class="md-ellipsis">
      Funciones Esenciales para Cadenas
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#aplicacion-en-el-mundo-real">
<span class="md-ellipsis">
      Aplicación en el Mundo Real
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#para-saber-mas">
<span class="md-ellipsis">
      Para Saber Más
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicios">
<span class="md-ellipsis">
      EJERCICIOS
    </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<!-- Nombre de archivo sugerido: 04-arrays-funciones-y-cadenas.md -->
<h1 id="ud4-arrays-funciones-y-cadenas-el-kit-de-herramientas-del-programador-php">UD4: Arrays, Funciones y Cadenas: El Kit de Herramientas del Programador PHP</h1>
<p>¡Hola, equipo! Bienvenidos de nuevo a la sala de máquinas de DevCore. En la <a href="03-Control/">UD3 - Control de Flujo</a>, aprendimos a ser los directores de orquesta de nuestro código, diciéndole qué camino tomar con <code>if</code> y <code>switch</code>, y cómo repetir tareas con bucles como <code>for</code> y <code>foreach</code>. Ya sabemos dar órdenes y dirigir el tráfico. Ahora, vamos a equiparnos con las herramientas para <em>construir</em> y <em>manipular</em> los materiales con los que trabajamos.</p>
<p>Imaginad que vuestro programa es un taller. Hasta ahora, hemos aprendido a encender y apagar las luces y a decidir en qué zona del taller trabajar. Hoy vamos a abrir la caja de herramientas. Descubriremos tres herramientas indispensables:
1.  <strong>Arrays</strong>: Nuestras cajas de almacenamiento y organizadores, para guardar colecciones de datos de forma ordenada.
2.  <strong>Funciones</strong>: Nuestras herramientas eléctricas personalizadas, que encapsulan una serie de pasos para realizar una tarea compleja con solo pulsar un botón.
3.  <strong>Cadenas (Strings)</strong>: Nuestro metro, cúter y lápiz de precisión, para medir, cortar, unir y modificar cualquier tipo de texto.</p>
<p>Dominar este kit de herramientas es lo que diferencia a un aprendiz de un auténtico artesano del software. ¡Manos a la obra!</p>
<h2 id="conceptos-fundamentales">Conceptos Fundamentales</h2>
<p>Antes de construir nuestra primera función o despiezar nuestra primera cadena de texto, vamos a definir con precisión cada una de estas herramientas maestras.</p>
<div class="admonition note">
<p class="admonition-title">Definición: Array</p>
<p>Un <strong>array</strong> es una estructura de datos que permite almacenar múltiples valores en una sola variable. Es como una cajonera donde cada cajón tiene una etiqueta (la <strong>clave</strong> o <strong>índice</strong>) y guarda un objeto dentro (el <strong>valor</strong>). En PHP, los arrays son extremadamente potentes y pueden actuar como listas, diccionarios, matrices y más.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Definición: Función</p>
<p>Una <strong>función</strong> es un bloque de código autocontenido y reutilizable que realiza una tarea específica. Se le da un nombre, puede recibir datos de entrada (<strong>parámetros</strong>) y puede devolver un resultado. Son la esencia del principio <strong>DRY (Don't Repeat Yourself)</strong>: escribe el código una vez, úsalo donde quieras.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Definición: Cadena (String)</p>
<p>Una <strong>cadena</strong> es una secuencia de caracteres utilizada para representar texto. Desde el nombre de un usuario hasta el contenido de un post de un blog, las cadenas son el pilar del manejo de información textual. PHP ofrece un arsenal de funciones para manipularlas.</p>
</div>
<p><br/><hr/></p>
<h2 id="desarrollo-y-ejemplos-practicos">Desarrollo y Ejemplos Prácticos</h2>
<p>Con las herramientas definidas, es hora de aprender a usarlas con maestría.</p>
<h3 id="arrays-las-cajas-de-almacenamiento-de-php">Arrays: Las Cajas de Almacenamiento de PHP</h3>
<p>Los arrays son, posiblemente, la variable más útil y versátil de PHP. Olvidaos de crear <code>$usuario1</code>, <code>$usuario2</code>, <code>$usuario3</code>... Un solo array puede contenerlos a todos.</p>
<div class="language-markmap mkdocs-markmap"><markmap-data encoding="base64" hidden="true">IyBBcnJheXMgZW4gUEhQCgojIyBUaXBvcyBQcmluY2lwYWxlcwotICoqSW5kZXhhZG9zIChMaXN0YXMpKioKICAtIENsYXZlcyBudW3DqXJpY2FzIGF1dG9tw6F0aWNhcyAoMCwgMSwgMi4uLikuCiAgLSBJZGVhbCBwYXJhIGxpc3RhcyBzaW1wbGVzLgogIC0gRWplbXBsbzogYFsiTWFuemFuYSIsICJQZXJhIiwgIk5hcmFuamEiXWAKLSAqKkFzb2NpYXRpdm9zIChNYXBhcy9EaWNjaW9uYXJpb3MpKioKICAtIENsYXZlcyBkZSB0ZXh0byBwZXJzb25hbGl6YWRhcy4KICAtIFJlbGFjaW9uYW4gdW5hIGNsYXZlIGNvbiB1biB2YWxvci4KICAtIEVqZW1wbG86IGBbJ25vbWJyZScgPT4gJ0FuYScsICdlZGFkJyA9PiAyOF1gCgojIyBFc3RydWN0dXJhcyBDb21wbGVqYXMKLSAqKk11bHRpZGltZW5zaW9uYWxlcyoqCiAgLSBBcnJheXMgcXVlIGNvbnRpZW5lbiBvdHJvcyBhcnJheXMuCiAgLSBQZXJmZWN0b3MgcGFyYSB0YWJsYXMgbyBtYXRyaWNlcy4KICAtIEVqZW1wbG86IGBbWydBbmEnLCAyOF0sIFsnTHVpcycsIDM0XV1g</markmap-data></div>
<h4 id="creacion-y-acceso-a-arrays">Creación y Acceso a Arrays</h4>
<p>En PHP, crear un array es sencillo. Puedes usar la sintaxis corta <code>[]</code> (la más común y recomendada) o la construcción <code>array()</code>.</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="c1">// Array indexado: una lista simple de la compra</span>
<span class="nv">$listaCompra</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"Leche"</span><span class="p">,</span> <span class="s2">"Pan"</span><span class="p">,</span> <span class="s2">"Huevos"</span><span class="p">,</span> <span class="s2">"Fruta"</span><span class="p">];</span>

<span class="c1">// Array asociativo: datos de un usuario</span>
<span class="nv">$datosUsuario</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">'nombre'</span> <span class="o">=&gt;</span> <span class="s1">'Alex'</span><span class="p">,</span>
    <span class="s1">'email'</span> <span class="o">=&gt;</span> <span class="s1">'alex@devcore.com'</span><span class="p">,</span>
    <span class="s1">'nivel_acceso'</span> <span class="o">=&gt;</span> <span class="s1">'admin'</span>
<span class="p">];</span>

<span class="c1">// Acceder a los elementos es como abrir un cajón específico</span>
<span class="k">echo</span> <span class="s2">"&lt;p&gt;No te olvides de comprar: "</span> <span class="o">.</span> <span class="nv">$listaCompra</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">.</span> <span class="s2">"&lt;/p&gt;"</span><span class="p">;</span> <span class="c1">// Salida: Pan</span>
<span class="k">echo</span> <span class="s2">"&lt;p&gt;El email del administrador es: "</span> <span class="o">.</span> <span class="nv">$datosUsuario</span><span class="p">[</span><span class="s1">'email'</span><span class="p">]</span> <span class="o">.</span> <span class="s2">"&lt;/p&gt;"</span><span class="p">;</span> <span class="c1">// Salida: alex@devcore.com</span>

<span class="c1">// Añadir un nuevo elemento es muy fácil</span>
<span class="nv">$listaCompra</span><span class="p">[]</span> <span class="o">=</span> <span class="s2">"Café"</span><span class="p">;</span> <span class="c1">// Añade "Café" al final del array indexado</span>
<span class="nv">$datosUsuario</span><span class="p">[</span><span class="s1">'ultimo_login'</span><span class="p">]</span> <span class="o">=</span> <span class="nb">date</span><span class="p">(</span><span class="s1">'Y-m-d H:i:s'</span><span class="p">);</span> <span class="c1">// Añade una nueva clave-valor</span>

<span class="c1">// Para depurar y ver el contenido completo de un array, print_r() es tu mejor amigo</span>
<span class="k">echo</span> <span class="s2">"&lt;pre&gt;"</span><span class="p">;</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$listaCompra</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$datosUsuario</span><span class="p">);</span>
<span class="k">echo</span> <span class="s2">"&lt;/pre&gt;"</span><span class="p">;</span>
<span class="cp">?&gt;</span>
</code></pre></div>
<h4 id="la-mejor-forma-de-recorrer-arrays-foreach">La mejor forma de recorrer Arrays: <code>foreach</code></h4>
<p>Como vimos en la unidad anterior, el bucle <code>foreach</code> está diseñado específicamente para recorrer arrays. Es la forma más limpia y segura de procesar cada uno de sus elementos.</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="nv">$tecnologias</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"PHP"</span><span class="p">,</span> <span class="s2">"JavaScript"</span><span class="p">,</span> <span class="s2">"SQL"</span><span class="p">,</span> <span class="s2">"Docker"</span><span class="p">];</span>

<span class="k">echo</span> <span class="s2">"&lt;h3&gt;Tecnologías que aprenderemos:&lt;/h3&gt;"</span><span class="p">;</span>
<span class="k">echo</span> <span class="s2">"&lt;ul&gt;"</span><span class="p">;</span>
<span class="c1">// Bucle simple: solo nos interesa el valor</span>
<span class="k">foreach</span> <span class="p">(</span><span class="nv">$tecnologias</span> <span class="k">as</span> <span class="nv">$tec</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s2">"&lt;li&gt;</span><span class="si">$tec</span><span class="s2">&lt;/li&gt;"</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">echo</span> <span class="s2">"&lt;/ul&gt;"</span><span class="p">;</span>

<span class="nv">$configuracion</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">'host'</span> <span class="o">=&gt;</span> <span class="s1">'db.devcore.local'</span><span class="p">,</span>
    <span class="s1">'usuario'</span> <span class="o">=&gt;</span> <span class="s1">'admin_nexus'</span><span class="p">,</span>
    <span class="s1">'codificacion'</span> <span class="o">=&gt;</span> <span class="s1">'utf8mb4'</span>
<span class="p">];</span>

<span class="k">echo</span> <span class="s2">"&lt;h3&gt;Configuración de la Base de Datos:&lt;/h3&gt;"</span><span class="p">;</span>
<span class="c1">// Bucle con clave y valor: necesitamos ambos</span>
<span class="k">foreach</span> <span class="p">(</span><span class="nv">$configuracion</span> <span class="k">as</span> <span class="nv">$clave</span> <span class="o">=&gt;</span> <span class="nv">$valor</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s2">"&lt;p&gt;&lt;strong&gt;"</span> <span class="o">.</span> <span class="nb">ucfirst</span><span class="p">(</span><span class="nv">$clave</span><span class="p">)</span> <span class="o">.</span> <span class="s2">":&lt;/strong&gt; </span><span class="si">$valor</span><span class="s2">&lt;/p&gt;"</span><span class="p">;</span>
<span class="p">}</span>
<span class="cp">?&gt;</span>
</code></pre></div>
<h4 id="operaciones-comunes-con-arrays">Operaciones Comunes con Arrays</h4>
<p>PHP viene con una navaja suiza de funciones para manipular arrays. No tienes que reinventar la rueda para tareas comunes.</p>
<div class="admonition info inline">
<p class="admonition-title">Funciones de Arrays</p>
<p>Aquí tienes algunas de las funciones más utilizadas. Conocerlas te ahorrará cientos de líneas de código.</p>
</div>
<table>
<thead>
<tr>
<th style="text-align: left;">Función</th>
<th style="text-align: left;">Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>count($array)</code></td>
<td style="text-align: left;">Devuelve el número de elementos en el array.</td>
</tr>
<tr>
<td style="text-align: left;"><code>in_array($valor, $array)</code></td>
<td style="text-align: left;">Comprueba si un valor existe en el array.</td>
</tr>
<tr>
<td style="text-align: left;"><code>array_key_exists($clave, $array)</code></td>
<td style="text-align: left;">Comprueba si una clave existe en el array.</td>
</tr>
<tr>
<td style="text-align: left;"><code>array_push($array, $valor)</code></td>
<td style="text-align: left;">Añade uno o más elementos al final del array.</td>
</tr>
<tr>
<td style="text-align: left;"><code>array_pop($array)</code></td>
<td style="text-align: left;">Extrae y devuelve el último elemento del array.</td>
</tr>
<tr>
<td style="text-align: left;"><code>sort($array)</code></td>
<td style="text-align: left;">Ordena un array indexado por valor.</td>
</tr>
<tr>
<td style="text-align: left;"><code>asort($array)</code></td>
<td style="text-align: left;">Ordena un array asociativo por valor, manteniendo la clave.</td>
</tr>
<tr>
<td style="text-align: left;"><code>ksort($array)</code></td>
<td style="text-align: left;">Ordena un array asociativo por clave.</td>
</tr>
<tr>
<td style="text-align: left;"><code>array_merge($arr1, $arr2)</code></td>
<td style="text-align: left;">Combina dos o más arrays en uno solo.</td>
</tr>
<tr>
<td style="text-align: left;"><code>array_keys($array)</code></td>
<td style="text-align: left;">Devuelve todas las claves de un array.</td>
</tr>
<tr>
<td style="text-align: left;"><code>array_values($array)</code></td>
<td style="text-align: left;">Devuelve todos los valores de un array.</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="nv">$frutas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"plátano"</span><span class="p">,</span> <span class="s2">"manzana"</span><span class="p">,</span> <span class="s2">"fresa"</span><span class="p">];</span>

<span class="c1">// Contamos los elementos</span>
<span class="k">echo</span> <span class="s2">"&lt;p&gt;Hay "</span> <span class="o">.</span> <span class="nb">count</span><span class="p">(</span><span class="nv">$frutas</span><span class="p">)</span> <span class="o">.</span> <span class="s2">" frutas en la lista.&lt;/p&gt;"</span><span class="p">;</span> <span class="c1">// Salida: 3</span>

<span class="c1">// Comprobamos si existe "manzana"</span>
<span class="k">if</span> <span class="p">(</span><span class="nb">in_array</span><span class="p">(</span><span class="s2">"manzana"</span><span class="p">,</span> <span class="nv">$frutas</span><span class="p">))</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s2">"&lt;p&gt;Sí, hay manzanas.&lt;/p&gt;"</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Ordenamos la lista alfabéticamente</span>
<span class="nb">sort</span><span class="p">(</span><span class="nv">$frutas</span><span class="p">);</span>

<span class="k">echo</span> <span class="s2">"&lt;h4&gt;Lista de frutas ordenada:&lt;/h4&gt;"</span><span class="p">;</span>
<span class="k">echo</span> <span class="s2">"&lt;ul&gt;"</span><span class="p">;</span>
<span class="k">foreach</span> <span class="p">(</span><span class="nv">$frutas</span> <span class="k">as</span> <span class="nv">$fruta</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s2">"&lt;li&gt;"</span> <span class="o">.</span> <span class="nb">ucfirst</span><span class="p">(</span><span class="nv">$fruta</span><span class="p">)</span> <span class="o">.</span> <span class="s2">"&lt;/li&gt;"</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">echo</span> <span class="s2">"&lt;/ul&gt;"</span><span class="p">;</span>
<span class="cp">?&gt;</span>
</code></pre></div>
<h4 id="arrays-multidimensionales">Arrays Multidimensionales</h4>
<p>Un array multidimensional es simplemente un array que contiene otros arrays. Son perfectos para representar estructuras de datos complejas, como tablas o matrices.</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="c1">// Un array de usuarios, donde cada usuario es un array asociativo</span>
<span class="nv">$usuarios</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span>
        <span class="s1">'id'</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s1">'nombre'</span> <span class="o">=&gt;</span> <span class="s1">'Ana'</span><span class="p">,</span>
        <span class="s1">'email'</span> <span class="o">=&gt;</span> <span class="s1">'ana.g@example.com'</span>
    <span class="p">],</span>
    <span class="p">[</span>
        <span class="s1">'id'</span> <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">,</span>
        <span class="s1">'nombre'</span> <span class="o">=&gt;</span> <span class="s1">'Luis'</span><span class="p">,</span>
        <span class="s1">'email'</span> <span class="o">=&gt;</span> <span class="s1">'luis.m@example.com'</span>
    <span class="p">],</span>
    <span class="p">[</span>
        <span class="s1">'id'</span> <span class="o">=&gt;</span> <span class="mi">3</span><span class="p">,</span>
        <span class="s1">'nombre'</span> <span class="o">=&gt;</span> <span class="s1">'Sara'</span><span class="p">,</span>
        <span class="s1">'email'</span> <span class="o">=&gt;</span> <span class="s1">'sara.p@example.com'</span>
    <span class="p">],</span>
<span class="p">];</span>

<span class="c1">// Para acceder a un dato, encadenamos las claves</span>
<span class="k">echo</span> <span class="s2">"&lt;p&gt;El correo del segundo usuario es: "</span> <span class="o">.</span> <span class="nv">$usuarios</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s1">'email'</span><span class="p">]</span> <span class="o">.</span> <span class="s2">"&lt;/p&gt;"</span><span class="p">;</span>

<span class="c1">// Para recorrerlos, anidamos bucles foreach</span>
<span class="k">echo</span> <span class="s2">"&lt;h3&gt;Tabla de Usuarios&lt;/h3&gt;"</span><span class="p">;</span>
<span class="k">echo</span> <span class="s2">"&lt;table border='1'&gt;&lt;tr&gt;&lt;th&gt;ID&lt;/th&gt;&lt;th&gt;Nombre&lt;/th&gt;&lt;th&gt;Email&lt;/th&gt;&lt;/tr&gt;"</span><span class="p">;</span>
<span class="k">foreach</span> <span class="p">(</span><span class="nv">$usuarios</span> <span class="k">as</span> <span class="nv">$usuario</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s2">"&lt;tr&gt;"</span><span class="p">;</span>
    <span class="k">echo</span> <span class="s2">"&lt;td&gt;"</span> <span class="o">.</span> <span class="nv">$usuario</span><span class="p">[</span><span class="s1">'id'</span><span class="p">]</span> <span class="o">.</span> <span class="s2">"&lt;/td&gt;"</span><span class="p">;</span>
    <span class="k">echo</span> <span class="s2">"&lt;td&gt;"</span> <span class="o">.</span> <span class="nv">$usuario</span><span class="p">[</span><span class="s1">'nombre'</span><span class="p">]</span> <span class="o">.</span> <span class="s2">"&lt;/td&gt;"</span><span class="p">;</span>
    <span class="k">echo</span> <span class="s2">"&lt;td&gt;"</span> <span class="o">.</span> <span class="nv">$usuario</span><span class="p">[</span><span class="s1">'email'</span><span class="p">]</span> <span class="o">.</span> <span class="s2">"&lt;/td&gt;"</span><span class="p">;</span>
    <span class="k">echo</span> <span class="s2">"&lt;/tr&gt;"</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">echo</span> <span class="s2">"&lt;/table&gt;"</span><span class="p">;</span>
<span class="cp">?&gt;</span>
</code></pre></div>
<div class="admonition question">
<p class="admonition-title">¡A reflexionar!</p>
<ol>
<li>Imagina el carrito de la compra de un eCommerce. ¿Sería un array indexado o asociativo? ¿Qué datos guardarías para cada producto en el carrito? ¿Sería multidimensional?</li>
<li>Tienes un array de notas numéricas: <code>[5, 8, 3, 10, 7]</code>. ¿Qué funciones de array usarías para calcular la nota media? (Pista: necesitarás dos funciones).</li>
<li>En el ejemplo de los usuarios, ¿cómo añadirías un nuevo usuario (con id 4, nombre 'Carlos') al array <code>$usuarios</code>?</li>
</ol>
</div>
<p><br/><hr/></p>
<h3 id="funciones-nuestros-bloques-de-codigo-reutilizables">Funciones: Nuestros Bloques de Código Reutilizables</h3>
<p>Las funciones son como crear tus propias herramientas personalizadas. Si te encuentras escribiendo el mismo trozo de código una y otra vez (por ejemplo, para calcular el IVA de un precio), es el momento de encapsular esa lógica en una función.</p>
<pre class="mermaid"><code>sequenceDiagram
    participant Codigo as "Código Principal"
    participant Funcion as "calcularPrecioFinal"

    Codigo-&gt;&gt;Codigo: "Definir precioBase como 100"
    Codigo-&gt;&gt;Codigo: "Definir impuesto como 21"
    Note right of Codigo: "Necesito el precio final"

    Codigo-&gt;&gt;Funcion: "Llamar a calcularPrecioFinal con 100 y 21"
    Note left of Funcion: "Recibo: base = 100, porcentaje = 21"

    Funcion-&gt;&gt;Funcion: "Calcular total = 100 + (100 * 21 / 100)"
    Note left of Funcion: "Lógica interna de la función"

    Funcion--&gt;&gt;Codigo: "Retornar el resultado: 121"

    Codigo-&gt;&gt;Codigo: "Definir precioConIVA como 121"
    Note right of Codigo: "Almacenar el valor devuelto"</code></pre>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="sd">/**</span>
<span class="sd"> * Calcula el precio final añadiendo un impuesto porcentual a un precio base.</span>
<span class="sd"> *</span>
<span class="sd"> * @param float $base El precio inicial.</span>
<span class="sd"> * @param float $porcentaje El porcentaje de impuesto a añadir (ej: 21 para 21%).</span>
<span class="sd"> * @return float El precio final con el impuesto incluido.</span>
<span class="sd"> */</span>
<span class="k">function</span> <span class="nf">calcularPrecioFinal</span><span class="p">(</span><span class="nx">float</span> <span class="nv">$base</span><span class="p">,</span> <span class="nx">float</span> <span class="nv">$porcentaje</span><span class="p">)</span><span class="o">:</span> <span class="nx">float</span>
<span class="p">{</span>
    <span class="c1">// Nota: Recibo: base = 100, porcentaje = 21</span>

    <span class="c1">// Lógica interna de la función: calcular el total</span>
    <span class="c1">// Nota: Calcular total = 100 + (100 * 21 / 100)</span>
    <span class="nv">$total</span> <span class="o">=</span> <span class="nv">$base</span> <span class="o">+</span> <span class="p">(</span><span class="nv">$base</span> <span class="o">*</span> <span class="nv">$porcentaje</span> <span class="o">/</span> <span class="mi">100</span><span class="p">);</span>

    <span class="c1">// Retornar el resultado calculado</span>
    <span class="c1">// Nota: Retornar el resultado: 121</span>
    <span class="k">return</span> <span class="nv">$total</span><span class="p">;</span>
<span class="p">}</span>


<span class="c1">// --- Inicia el "Código Principal" ---</span>

<span class="c1">// Definir precioBase como 100</span>
<span class="nv">$precioBase</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>

<span class="c1">// Definir impuesto como 21</span>
<span class="nv">$impuesto</span> <span class="o">=</span> <span class="mi">21</span><span class="p">;</span>

<span class="c1">// Nota: Necesito el precio final</span>

<span class="c1">// Llamar a calcularPrecioFinal con 100 y 21</span>
<span class="c1">// y almacenar el valor devuelto en una nueva variable.</span>
<span class="c1">// Nota: Almacenar el valor devuelto</span>
<span class="nv">$precioConIVA</span> <span class="o">=</span> <span class="nx">calcularPrecioFinal</span><span class="p">(</span><span class="nv">$precioBase</span><span class="p">,</span> <span class="nv">$impuesto</span><span class="p">);</span> <span class="c1">// Definir precioConIVA como 121</span>

<span class="c1">// Mostramos el resultado final para verificar</span>
<span class="k">echo</span> <span class="s2">"El precio base es: </span><span class="si">$precioBase</span><span class="s2"> €&lt;br&gt;"</span><span class="p">;</span>
<span class="k">echo</span> <span class="s2">"El impuesto es del: </span><span class="si">$impuesto</span><span class="s2"> %&lt;br&gt;"</span><span class="p">;</span>
<span class="k">echo</span> <span class="s2">"----------------------------------&lt;br&gt;"</span><span class="p">;</span>
<span class="k">echo</span> <span class="s2">"El precio final con IVA es: </span><span class="si">$precioConIVA</span><span class="s2"> €"</span><span class="p">;</span>

<span class="cp">?&gt;</span>
</code></pre></div>
<h4 id="definicion-parametros-y-return">Definición, Parámetros y <code>return</code></h4>
<ul>
<li><strong><code>function nombreFuncion()</code></strong>: Así se declara una función.</li>
<li><strong>Parámetros</strong>: Son las variables que la función recibe para trabajar. Son como los ingredientes de una receta.</li>
<li><strong><code>return</code></strong>: Es la palabra clave que devuelve un valor desde la función al código que la llamó. Es el plato cocinado que sale de la cocina.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="sd">/**</span>
<span class="sd"> * Calcula el IVA de un importe y lo devuelve.</span>
<span class="sd"> *</span>
<span class="sd"> * @param float $importe El importe base sin IVA.</span>
<span class="sd"> * @param float $tasaIva La tasa de IVA (ej: 21 para 21%). Por defecto es 21.</span>
<span class="sd"> * @return float El importe con el IVA incluido.</span>
<span class="sd"> */</span>
<span class="k">function</span> <span class="nf">calcularPrecioConIva</span><span class="p">(</span><span class="nx">float</span> <span class="nv">$importe</span><span class="p">,</span> <span class="nx">float</span> <span class="nv">$tasaIva</span> <span class="o">=</span> <span class="mi">21</span><span class="p">)</span><span class="o">:</span> <span class="nx">float</span>
<span class="p">{</span>
    <span class="nv">$total</span> <span class="o">=</span> <span class="nv">$importe</span> <span class="o">+</span> <span class="p">(</span><span class="nv">$importe</span> <span class="o">*</span> <span class="nv">$tasaIva</span> <span class="o">/</span> <span class="mi">100</span><span class="p">);</span>
    <span class="k">return</span> <span class="nv">$total</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Usamos nuestra función</span>
<span class="nv">$precioProductoA</span> <span class="o">=</span> <span class="mf">99.99</span><span class="p">;</span>
<span class="nv">$precioFinalA</span> <span class="o">=</span> <span class="nx">calcularPrecioConIva</span><span class="p">(</span><span class="nv">$precioProductoA</span><span class="p">);</span>
<span class="k">echo</span> <span class="s2">"&lt;p&gt;Precio final del producto A (IVA 21%): "</span> <span class="o">.</span> <span class="nb">number_format</span><span class="p">(</span><span class="nv">$precioFinalA</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">.</span> <span class="s2">"€&lt;/p&gt;"</span><span class="p">;</span>

<span class="nv">$precioProductoB</span> <span class="o">=</span> <span class="mi">150</span><span class="p">;</span>
<span class="nv">$precioFinalB</span> <span class="o">=</span> <span class="nx">calcularPrecioConIva</span><span class="p">(</span><span class="nv">$precioProductoB</span><span class="p">,</span> <span class="mi">4</span><span class="p">);</span> <span class="c1">// Usamos un IVA reducido del 4%</span>
<span class="k">echo</span> <span class="s2">"&lt;p&gt;Precio final del producto B (IVA 4%): "</span> <span class="o">.</span> <span class="nb">number_format</span><span class="p">(</span><span class="nv">$precioFinalB</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">.</span> <span class="s2">"€&lt;/p&gt;"</span><span class="p">;</span>

<span class="c1">//---</span>

<span class="sd">/**</span>
<span class="sd"> * Genera un saludo personalizado.</span>
<span class="sd"> * Esta función no devuelve nada, solo imprime (tiene "efectos secundarios").</span>
<span class="sd"> * </span>
<span class="sd"> * @param string $nombre El nombre de la persona a saludar.</span>
<span class="sd"> * @return void</span>
<span class="sd"> */</span>
<span class="k">function</span> <span class="nf">saludar</span><span class="p">(</span><span class="nx">string</span> <span class="nv">$nombre</span><span class="p">)</span><span class="o">:</span> <span class="nx">void</span>
<span class="p">{</span>
    <span class="k">echo</span> <span class="s2">"&lt;p&gt;¡Hola, </span><span class="si">$nombre</span><span class="s2">! Bienvenido a Nexus.&lt;/p&gt;"</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">saludar</span><span class="p">(</span><span class="s2">"Elena"</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Tipado Estricto: El Superpoder de PHP 7+</p>
<p>Como ves en los ejemplos, desde PHP 7 podemos declarar los tipos de los parámetros y el tipo de valor que devuelve una función (<code>: float</code>, <code>: void</code>). Si al principio del fichero pones <code>declare(strict_types=1);</code>, PHP se volverá muy estricto y lanzará un error si los tipos no coinciden. Es una práctica <strong>altamente recomendada</strong> en proyectos profesionales para evitar bugs.</p>
</div>
<h4 id="paso-por-valor-vs-paso-por-referencia">Paso por Valor vs. Paso por Referencia</h4>
<p>Por defecto, PHP pasa los argumentos a las funciones <strong>por valor</strong>. Esto significa que la función recibe una <strong>copia</strong> de la variable original. Cualquier cambio que hagas al parámetro dentro de la función <strong>no afectará</strong> a la variable original fuera de ella.</p>
<p>Si quieres que la función modifique la variable original, debes pasarla <strong>por referencia</strong>, añadiendo un <code>&amp;</code> antes del nombre del parámetro.</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="k">function</span> <span class="nf">anadirImpuestoPorValor</span><span class="p">(</span><span class="nv">$precio</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$precio</span> <span class="o">=</span> <span class="nv">$precio</span> <span class="o">*</span> <span class="mf">1.21</span><span class="p">;</span>
    <span class="k">echo</span> <span class="s2">"&lt;p&gt;Dentro (valor): El precio es </span><span class="si">$precio</span><span class="s2">&lt;/p&gt;"</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">function</span> <span class="nf">anadirImpuestoPorReferencia</span><span class="p">(</span><span class="o">&amp;</span><span class="nv">$precio</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$precio</span> <span class="o">=</span> <span class="nv">$precio</span> <span class="o">*</span> <span class="mf">1.21</span><span class="p">;</span>
    <span class="k">echo</span> <span class="s2">"&lt;p&gt;Dentro (referencia): El precio es </span><span class="si">$precio</span><span class="s2">&lt;/p&gt;"</span><span class="p">;</span>
<span class="p">}</span>

<span class="nv">$costeOriginal</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
<span class="k">echo</span> <span class="s2">"&lt;p&gt;Antes: El precio es </span><span class="si">$costeOriginal</span><span class="s2">&lt;/p&gt;"</span><span class="p">;</span>
<span class="nx">anadirImpuestoPorValor</span><span class="p">(</span><span class="nv">$costeOriginal</span><span class="p">);</span>
<span class="k">echo</span> <span class="s2">"&lt;p&gt;Después de 'por valor': El precio es </span><span class="si">$costeOriginal</span><span class="s2">&lt;/p&gt;"</span><span class="p">;</span> <span class="c1">// Sigue siendo 100</span>

<span class="k">echo</span> <span class="s2">"&lt;hr&gt;"</span><span class="p">;</span>

<span class="k">echo</span> <span class="s2">"&lt;p&gt;Antes: El precio es </span><span class="si">$costeOriginal</span><span class="s2">&lt;/p&gt;"</span><span class="p">;</span>
<span class="nx">anadirImpuestoPorReferencia</span><span class="p">(</span><span class="nv">$costeOriginal</span><span class="p">);</span>
<span class="k">echo</span> <span class="s2">"&lt;p&gt;Después de 'por referencia': El precio es </span><span class="si">$costeOriginal</span><span class="s2">&lt;/p&gt;"</span><span class="p">;</span> <span class="c1">// ¡Ahora es 121!</span>
<span class="cp">?&gt;</span>
</code></pre></div>
<div class="admonition danger">
<p class="admonition-title">Cuidado con las Referencias</p>
<p>El paso por referencia es potente pero puede hacer el código más difícil de seguir. Úsalo con moderación. Generalmente, es mejor que una función devuelva un nuevo valor con <code>return</code> a que modifique una variable por referencia.</p>
</div>
<div class="admonition question">
<p class="admonition-title">¡A reflexionar!</p>
<ol>
<li>Piensa en una función <code>validarEmail($email)</code>. ¿Qué debería recibir como parámetro? ¿Qué debería devolver con <code>return</code> (piensa en el tipo de dato)?</li>
<li>Se te pide crear una función que convierta una cantidad de euros a dólares. ¿Cómo la definirías? ¿Necesitaría pasar el argumento por valor o por referencia?</li>
<li>¿Por qué la función <code>sort()</code> que vimos en los arrays probablemente necesita recibir el array por referencia?</li>
</ol>
</div>
<p><br/><hr/></p>
<h3 id="cadenas-manipulando-texto-como-un-profesional">Cadenas: Manipulando Texto como un Profesional</h3>
<p>Las cadenas de texto son omnipresentes. Nombres, emails, mensajes, URLs... todo es texto. PHP proporciona un conjunto de herramientas increíblemente rico para trabajar con ellas.</p>
<pre class="mermaid"><code>graph LR
    subgraph "Cadena Original"
        A["El rápido zorro marrón"]
    end

    subgraph "Operaciones"
        B(strlen) --&gt; C[23]
        D(str_replace) --&gt; E["El VELOZ zorro marrón"]
        F(strtoupper) --&gt; G["EL RÁPIDO ZORRO MARRÓN"]
        H(substr) --&gt; I["zorro"]
        J(explode) --&gt; K["['El', 'rápido', 'zorro', 'marrón']"]
    end

    A --&gt; B
    A --&gt; D
    A --&gt; F
    A --&gt; H
    A --&gt; J</code></pre>
<h4 id="creacion-comillas-simples-vs-dobles">Creación: Comillas Simples vs. Dobles</h4>
<ul>
<li><strong>Comillas simples (<code>'...'</code>)</strong>: Son literales. No interpretan variables ni secuencias de escape (excepto <code>\'</code> y <code>\\</code>). Son más rápidas.</li>
<li><strong>Comillas dobles (<code>"..."</code>)</strong>: Interpretan (o "expanden") variables y secuencias de escape como <code>\n</code> (salto de línea) o <code>\t</code> (tabulador).</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="nv">$planeta</span> <span class="o">=</span> <span class="s2">"Mundo"</span><span class="p">;</span>

<span class="nv">$saludoSimple</span> <span class="o">=</span> <span class="s1">'&lt;p&gt;Hola, $planeta&lt;/p&gt;'</span><span class="p">;</span> <span class="c1">// Muestra literal: Hola, $planeta</span>
<span class="nv">$saludoDoble</span> <span class="o">=</span> <span class="s2">"&lt;p&gt;Hola, </span><span class="si">$planeta</span><span class="s2">&lt;/p&gt;"</span><span class="p">;</span>  <span class="c1">// Muestra: Hola, Mundo</span>

<span class="k">echo</span> <span class="nv">$saludoSimple</span><span class="p">;</span>
<span class="k">echo</span> <span class="nv">$saludoDoble</span><span class="p">;</span>

<span class="c1">// Para concatenar (unir) cadenas, se usa el operador punto (.)</span>
<span class="nv">$nombre</span> <span class="o">=</span> <span class="s2">"Ana"</span><span class="p">;</span>
<span class="nv">$apellido</span> <span class="o">=</span> <span class="s2">"García"</span><span class="p">;</span>
<span class="nv">$nombreCompleto</span> <span class="o">=</span> <span class="nv">$nombre</span> <span class="o">.</span> <span class="s2">" "</span> <span class="o">.</span> <span class="nv">$apellido</span><span class="p">;</span>
<span class="k">echo</span> <span class="s2">"&lt;p&gt;Nombre completo: </span><span class="si">$nombreCompleto</span><span class="s2">&lt;/p&gt;"</span><span class="p">;</span>
<span class="cp">?&gt;</span>
</code></pre></div>
<h4 id="funciones-esenciales-para-cadenas">Funciones Esenciales para Cadenas</h4>
<p>Al igual que con los arrays, PHP tiene una función para casi cualquier cosa que necesites hacer con una cadena.</p>
<div class="admonition info inline end">
<p class="admonition-title">Funciones de Cadenas</p>
<p>Aquí tienes un pequeño muestrario. Dominarlas te hará mucho más productivo.</p>
</div>
<table>
<thead>
<tr>
<th style="text-align: left;">Función</th>
<th style="text-align: left;">Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>strlen($str)</code></td>
<td style="text-align: left;">Obtiene la longitud de la cadena.</td>
</tr>
<tr>
<td style="text-align: left;"><code>str_replace($buscar, $reemplazar, $str)</code></td>
<td style="text-align: left;">Reemplaza todas las ocurrencias de una subcadena.</td>
</tr>
<tr>
<td style="text-align: left;"><code>strpos($pajar, $aguja)</code></td>
<td style="text-align: left;">Encuentra la posición de la primera ocurrencia de una subcadena.</td>
</tr>
<tr>
<td style="text-align: left;"><code>substr($str, $inicio, $longitud)</code></td>
<td style="text-align: left;">Devuelve una parte (subcadena) de una cadena.</td>
</tr>
<tr>
<td style="text-align: left;"><code>strtolower($str)</code> / <code>strtoupper($str)</code></td>
<td style="text-align: left;">Convierte la cadena a minúsculas o mayúsculas.</td>
</tr>
<tr>
<td style="text-align: left;"><code>trim($str)</code></td>
<td style="text-align: left;">Elimina los espacios en blanco al principio y al final.</td>
</tr>
<tr>
<td style="text-align: left;"><code>explode($delimitador, $str)</code></td>
<td style="text-align: left;">Divide una cadena en un array usando un delimitador.</td>
</tr>
<tr>
<td style="text-align: left;"><code>implode($union, $array)</code></td>
<td style="text-align: left;">Une los elementos de un array en una cadena.</td>
</tr>
<tr>
<td style="text-align: left;"><code>htmlspecialchars($str)</code></td>
<td style="text-align: left;">Convierte caracteres especiales a entidades HTML (previene ataques XSS).</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="nv">$frase</span> <span class="o">=</span> <span class="s2">"  WordPress es un CMS escrito en PHP.  "</span><span class="p">;</span>

<span class="c1">// Limpiar espacios extra</span>
<span class="nv">$fraseLimpia</span> <span class="o">=</span> <span class="nb">trim</span><span class="p">(</span><span class="nv">$frase</span><span class="p">);</span>
<span class="k">echo</span> <span class="s2">"&lt;p&gt;Frase limpia: '</span><span class="si">$fraseLimpia</span><span class="s2">'&lt;/p&gt;"</span><span class="p">;</span>

<span class="c1">// Longitud</span>
<span class="k">echo</span> <span class="s2">"&lt;p&gt;La longitud de la frase limpia es: "</span> <span class="o">.</span> <span class="nb">strlen</span><span class="p">(</span><span class="nv">$fraseLimpia</span><span class="p">)</span> <span class="o">.</span> <span class="s2">"&lt;/p&gt;"</span><span class="p">;</span>

<span class="c1">// Reemplazar</span>
<span class="nv">$fraseModificada</span> <span class="o">=</span> <span class="nb">str_replace</span><span class="p">(</span><span class="s2">"WordPress"</span><span class="p">,</span> <span class="s2">"Nexus"</span><span class="p">,</span> <span class="nv">$fraseLimpia</span><span class="p">);</span>
<span class="k">echo</span> <span class="s2">"&lt;p&gt;Frase modificada: '</span><span class="si">$fraseModificada</span><span class="s2">'&lt;/p&gt;"</span><span class="p">;</span>

<span class="c1">// Encontrar la posición de "PHP"</span>
<span class="nv">$posicionPhp</span> <span class="o">=</span> <span class="nb">strpos</span><span class="p">(</span><span class="nv">$fraseModificada</span><span class="p">,</span> <span class="s2">"PHP"</span><span class="p">);</span>
<span class="k">echo</span> <span class="s2">"&lt;p&gt;'PHP' se encuentra en la posición: </span><span class="si">$posicionPhp</span><span class="s2">&lt;/p&gt;"</span><span class="p">;</span>

<span class="c1">// Convertir a mayúsculas</span>
<span class="k">echo</span> <span class="s2">"&lt;p&gt;En mayúsculas: "</span> <span class="o">.</span> <span class="nb">strtoupper</span><span class="p">(</span><span class="nv">$fraseModificada</span><span class="p">)</span> <span class="o">.</span> <span class="s2">"&lt;/p&gt;"</span><span class="p">;</span>

<span class="c1">// Dividir la frase en un array de palabras</span>
<span class="nv">$palabras</span> <span class="o">=</span> <span class="nb">explode</span><span class="p">(</span><span class="s2">" "</span><span class="p">,</span> <span class="nv">$fraseModificada</span><span class="p">);</span>
<span class="k">echo</span> <span class="s2">"&lt;h4&gt;La frase contiene las siguientes palabras:&lt;/h4&gt;"</span><span class="p">;</span>
<span class="k">echo</span> <span class="s2">"&lt;pre&gt;"</span><span class="p">;</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$palabras</span><span class="p">);</span>
<span class="k">echo</span> <span class="s2">"&lt;/pre&gt;"</span><span class="p">;</span>
<span class="cp">?&gt;</span>
</code></pre></div>
<div class="admonition question">
<p class="admonition-title">¡A reflexionar!</p>
<ol>
<li>Te llega una URL: <code>https://nexus.devcore.com/usuarios/perfil/42</code>. Quieres obtener solo el ID de usuario (el <code>42</code> del final). ¿Qué funciones de cadena podrías combinar para lograrlo?</li>
<li>Un usuario introduce su nombre en un formulario como <code>juan pérez</code>. Antes de guardarlo en la base de datos, ¿qué funciones de cadena aplicarías para "limpiarlo" y formatearlo correctamente (ej: "Juan Pérez")?</li>
<li>¿Por qué la función <code>htmlspecialchars()</code> es tan importante para la seguridad de una aplicación web? Piensa qué pasaría si un usuario introduce <code>&lt;script&gt;alert('hackeado')&lt;/script&gt;</code> en un comentario y no lo filtras.</li>
</ol>
</div>
<p><br/><hr/></p>
<h2 id="aplicacion-en-el-mundo-real">Aplicación en el Mundo Real</h2>
<p>Estas tres herramientas son la base de casi toda la programación del lado del servidor.
*   <strong>eCommerce (Magento, PrestaShop):</strong> El carrito de la compra es un <strong>array</strong> multidimensional guardado en la sesión del usuario. Cada vez que añades o quitas un producto, se ejecutan <strong>funciones</strong> como <code>añadirProductoAlCarrito()</code> o <code>recalcularTotal()</code>. Los nombres, descripciones y precios de los productos se manipulan constantemente como <strong>cadenas</strong>.
*   <strong>CMS (WordPress, Drupal):</strong> Cuando WordPress muestra una lista de entradas, la función <code>get_posts()</code> devuelve un <strong>array</strong> de objetos. Luego, un bucle <code>foreach</code> recorre ese array y utiliza <strong>funciones</strong> como <code>the_title()</code> o <code>the_content()</code> para mostrar la información, que son <strong>cadenas</strong> de texto.
*   <strong>Frameworks (Laravel, Symfony):</strong> Cuando envías un formulario, Laravel recoge todos los datos en un <strong>array</strong> asociativo. Para validar que el email es válido, llama a una <strong>función</strong> de validación que opera sobre la <strong>cadena</strong> del email. Los resultados, ya sean de éxito o error, se pasan a la vista en un <strong>array</strong> para ser mostrados.</p>
<p>No hay una sola línea de negocio en una aplicación web que no dependa, directa o indirectamente, de la correcta manipulación de arrays, funciones y cadenas.</p>
<h2 id="para-saber-mas">Para Saber Más</h2>
<p>Para convertirte en un maestro de estas herramientas, la práctica es clave, pero tener a mano los manuales de instrucciones es fundamental.</p>
<ol>
<li><strong>Documentación Oficial de PHP sobre Arrays</strong>: La referencia definitiva para todas las funciones de arrays. Indispensable. <a href="https://www.php.net/manual/es/book.array.php">Manual de Arrays en PHP.net</a></li>
<li><strong>Documentación Oficial de PHP sobre Funciones</strong>: Todo sobre cómo definir, llamar y usar funciones, incluyendo temas avanzados como closures y funciones flecha. <a href="https://www.php.net/manual/es/language.functions.php">Manual de Funciones en PHP.net</a></li>
<li><strong>Documentación Oficial de PHP sobre Cadenas</strong>: Tu guía para todas las funciones de manipulación de texto. <a href="https://www.php.net/manual/es/ref.strings.php">Manual de Strings en PHP.net</a></li>
</ol>
<p><br/><hr class="double"/><br/></p>
<h2 id="ejercicios">EJERCICIOS</h2>
<hr/>
<!-- 
******************
*   EJERCICIOS   *  
******************
-->
<!-- Nombre de archivo sugerido: T04-Ejercicios-Arrays-Funciones-Strings.md -->
<h1 id="proyecto-nexuscore-kit-de-herramientas-de-desarrollo">Proyecto NexusCore: Kit de Herramientas de Desarrollo</h1>
<p>¡Equipo! Bienvenidos al <em>sprint</em> de desarrollo del <strong>Proyecto NexusCore</strong>, nuestra nueva plataforma interna de gestión en DevCore. Durante este <em>sprint</em>, nos enfocaremos en construir y refinar los componentes base de la aplicación. Para ello, aplicaremos nuestros conocimientos en las tres herramientas fundamentales de PHP: <strong>Arrays</strong>, para gestionar nuestros datos; <strong>Funciones</strong>, para crear lógica reutilizable; y <strong>Cadenas</strong>, para manipular toda la información textual.</p>
<p>Cada ejercicio que completéis será un módulo o una utilidad que se integrará directamente en NexusCore. ¡Manos al código!</p>
<h2 id="ejercicios-de-consolidacion">Ejercicios de Consolidación</h2>
<p>Estos ejercicios están diseñados para asentar los conceptos clave que hemos visto en la unidad. Son los cimientos sobre los que construiremos funcionalidades más complejas.</p>
<div class="admonition abstract">
<p class="admonition-title">1) Gestor del Equipo de Desarrollo | Nivel: Fácil</p>
<h5 id="objetivo"><strong>Objetivo:</strong></h5>
<p>Demostrar la capacidad de crear y manipular un array multidimensional asociativo para gestionar una colección de datos estructurados.</p>
<h5 id="setup-inicial"><strong>Setup Inicial:</strong></h5>
<p>Partimos de un array que representa al equipo inicial del proyecto NexusCore.</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="nv">$equipoDevCore</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span>
        <span class="s1">'id'</span> <span class="o">=&gt;</span> <span class="mi">101</span><span class="p">,</span>
        <span class="s1">'nombre'</span> <span class="o">=&gt;</span> <span class="s1">'Ana Garrido'</span><span class="p">,</span>
        <span class="s1">'rol'</span> <span class="o">=&gt;</span> <span class="s1">'Lead Developer'</span><span class="p">,</span>
        <span class="s1">'tecnologias'</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">'PHP'</span><span class="p">,</span> <span class="s1">'Symfony'</span><span class="p">,</span> <span class="s1">'MySQL'</span><span class="p">]</span>
    <span class="p">],</span>
    <span class="p">[</span>
        <span class="s1">'id'</span> <span class="o">=&gt;</span> <span class="mi">102</span><span class="p">,</span>
        <span class="s1">'nombre'</span> <span class="o">=&gt;</span> <span class="s1">'Luis Campos'</span><span class="p">,</span>
        <span class="s1">'rol'</span> <span class="o">=&gt;</span> <span class="s1">'Frontend Developer'</span><span class="p">,</span>
        <span class="s1">'tecnologias'</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">'JavaScript'</span><span class="p">,</span> <span class="s1">'Vue.js'</span><span class="p">,</span> <span class="s1">'CSS'</span><span class="p">]</span>
    <span class="p">],</span>
    <span class="p">[</span>
        <span class="s1">'id'</span> <span class="o">=&gt;</span> <span class="mi">103</span><span class="p">,</span>
        <span class="s1">'nombre'</span> <span class="o">=&gt;</span> <span class="s1">'Sara Pineda'</span><span class="p">,</span>
        <span class="s1">'rol'</span> <span class="o">=&gt;</span> <span class="s1">'Backend Developer'</span><span class="p">,</span>
        <span class="s1">'tecnologias'</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">'PHP'</span><span class="p">,</span> <span class="s1">'Laravel'</span><span class="p">,</span> <span class="s1">'Docker'</span><span class="p">]</span>
    <span class="p">],</span>
<span class="p">];</span>
<span class="cp">?&gt;</span>
</code></pre></div>
<h5 id="tarea-a-realizar"><strong>Tarea a realizar:</strong></h5>
<ol>
<li><strong>Añade un nuevo miembro al equipo:</strong> Crea un array asociativo para un nuevo miembro (ID: 104, Nombre: 'Carlos Rivas', Rol: 'DevOps', Tecnologías: ['Docker', 'AWS', 'Bash']) y añádelo al final del array <code>$equipoDevCore</code>.</li>
<li><strong>Muestra la lista del equipo:</strong> Recorre el array <code>$equipoDevCore</code> con un bucle <code>foreach</code> y muestra una lista HTML (<code>&lt;ul&gt;</code>) donde cada elemento (<code>&lt;li&gt;</code>) sea <code>"Nombre (Rol)"</code>. Por ejemplo: <code>"Ana Garrido (Lead Developer)"</code>.</li>
<li><strong>Busca las tecnologías de un miembro:</strong> Accede directamente al segundo miembro del equipo (<code>$equipoDevCore[1]</code>) y muestra su nombre y la primera tecnología de su lista de habilidades.</li>
</ol>
<h5 id="aplicacion-en-el-mundo-real_1"><strong>Aplicación en el Mundo Real:</strong></h5>
<p>En cualquier aplicación (un CMS, un eCommerce, una red social), es fundamental gestionar listas de entidades: usuarios, productos, posts, etc. Estas listas casi siempre se representan en PHP como arrays de arrays asociativos obtenidos de una base de datos.</p>
</div>
<div class="admonition abstract">
<p class="admonition-title">2) Normalizador de Nombres de Usuario | Nivel: Fácil</p>
<h5 id="objetivo_1"><strong>Objetivo:</strong></h5>
<p>Utilizar funciones de manipulación de cadenas para limpiar y estandarizar datos de entrada, una tarea de seguridad y consistencia de datos fundamental.</p>
<h5 id="tarea-a-realizar_1"><strong>Tarea a realizar:</strong></h5>
<p>Un usuario se registra en NexusCore a través de un formulario. El nombre que introduce es <code>"  elena vázquez  "</code>. Antes de guardarlo, necesitamos normalizarlo. Realiza los siguientes pasos:
1.  Usa <code>trim()</code> para eliminar los espacios en blanco innecesarios al principio y al final.
2.  Usa <code>strtolower()</code> para convertir toda la cadena a minúsculas.
3.  Usa <code>ucwords()</code> (¡investígalo!) para poner en mayúscula la primera letra de cada palabra.
4.  Muestra el nombre original y el nombre normalizado.</p>
<h5 id="aplicacion-en-el-mundo-real_2"><strong>Aplicación en el Mundo Real:</strong></h5>
<p>Nunca se debe confiar en los datos que introduce un usuario. La "sanitización" o "limpieza" de entradas es el primer paso para prevenir errores, inconsistencias en la base de datos y ciertos tipos de ataques de seguridad.</p>
</div>
<div class="admonition abstract">
<p class="admonition-title">3) Generador de IDs de Incidencia | Nivel: Fácil</p>
<h5 id="objetivo_2"><strong>Objetivo:</strong></h5>
<p>Crear una función reutilizable que encapsule una lógica de negocio específica, aceptando parámetros y devolviendo un valor formateado.</p>
<h5 id="tarea-a-realizar_2"><strong>Tarea a realizar:</strong></h5>
<p>En NexusCore, necesitamos un sistema para generar identificadores únicos para las incidencias de soporte. El formato debe ser <code>NEXUS-XXXX</code>, donde <code>XXXX</code> es el número de la incidencia, rellenado con ceros a la izquierda hasta tener 4 dígitos.
1.  Define una función <code>generarIdIncidencia(int $numero): string</code>.
2.  Dentro de la función, utiliza la función de cadena <code>str_pad()</code> (¡investígala!) para formatear el número.
3.  La función debe devolver el ID completo (ej: <code>NEXUS-0042</code>).
4.  Llama a la función con los números <code>7</code>, <code>123</code> y <code>1500</code> y muestra los resultados.</p>
<h5 id="aplicacion-en-el-mundo-real_3"><strong>Aplicación en el Mundo Real:</strong></h5>
<p>Las empresas tienen reglas de negocio por todas partes: cómo formatear una factura (FACT-2024-001), cómo generar un código de cupón, etc. Encapsular estas reglas en funciones hace que el código sea mantenible, legible y evita errores al no repetir la lógica en múltiples sitios.</p>
</div>
<div class="admonition abstract">
<p class="admonition-title">4) Creador de Informes de Proyecto | Nivel: Fácil</p>
<h5 id="objetivo_3"><strong>Objetivo:</strong></h5>
<p>Combinar el recorrido de arrays, la manipulación de cadenas y la lógica de funciones para generar una salida estructurada (HTML) a partir de un conjunto de datos.</p>
<h5 id="tarea-a-realizar_3"><strong>Tarea a realizar:</strong></h5>
<p>Crea una función <code>generarInforme(array $proyecto): string</code> que reciba un array asociativo con los datos de un proyecto y devuelva un <code>string</code> con un mini-informe en HTML.
1.  <strong>Define la función</strong> que acepta un array <code>$proyecto</code>.
2.  Dentro de la función, construye una cadena HTML. El informe debe incluir:
    *   Un título <code>&lt;h3&gt;</code> con el nombre del proyecto.
    *   Un párrafo <code>&lt;p&gt;</code> que diga "Estado: [estado]".
    *   Una lista <code>&lt;ul&gt;</code> con los miembros del equipo.
3.  <strong>Llama a la función</strong> con el array de ejemplo y muestra el resultado con <code>echo</code>.</p>
<h5 id="setup-inicial_1"><strong>Setup Inicial:</strong></h5>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="nv">$datosProyecto</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">'nombre'</span> <span class="o">=&gt;</span> <span class="s1">'Lanzamiento de NexusCore v1.0'</span><span class="p">,</span>
    <span class="s1">'estado'</span> <span class="o">=&gt;</span> <span class="s1">'En Progreso'</span><span class="p">,</span>
    <span class="s1">'equipo'</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">'Ana Garrido'</span><span class="p">,</span> <span class="s1">'Luis Campos'</span><span class="p">,</span> <span class="s1">'Sara Pineda'</span><span class="p">,</span> <span class="s1">'Carlos Rivas'</span><span class="p">]</span>
<span class="p">];</span>
<span class="cp">?&gt;</span>
</code></pre></div>
<h5 id="aplicacion-en-el-mundo-real_4"><strong>Aplicación en el Mundo Real:</strong></h5>
<p>Esta es la esencia de la programación web dinámica. Tomas datos de una fuente (array, base de datos) y los transformas en una representación visual (HTML) para el usuario. Esta función podría ser parte de un sistema que genera PDFs o envía emails de reporte.</p>
</div>
<div class="admonition abstract">
<p class="admonition-title">5) Depuración: El Validador de Permisos Roto | Nivel: Fácil</p>
<h5 id="objetivo_4"><strong>Objetivo:</strong></h5>
<p>Identificar y corregir un error común en PHP relacionado con la búsqueda en cadenas y la comparación estricta.</p>
<h5 id="setup-inicial-codigo-con-bug"><strong>Setup Inicial (Código con bug):</strong></h5>
<p>Esta función debería devolver <code>true</code> si el permiso 'admin' está en la lista de permisos, pero no funciona correctamente cuando 'admin' es el primer permiso de la lista.</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="k">function</span> <span class="nf">tienePermisoAdmin</span><span class="p">(</span><span class="nx">string</span> <span class="nv">$permisosCSV</span><span class="p">)</span><span class="o">:</span> <span class="nx">bool</span>
<span class="p">{</span>
    <span class="c1">// strpos puede devolver 0 (la posición), que PHP interpreta como `false` en una comparación débil.</span>
    <span class="c1">// El error está en la siguiente línea.</span>
    <span class="k">if</span> <span class="p">(</span><span class="nb">strpos</span><span class="p">(</span><span class="nv">$permisosCSV</span><span class="p">,</span> <span class="s1">'admin'</span><span class="p">)</span> <span class="o">==</span> <span class="k">false</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">true</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="nv">$permisosUsuario1</span> <span class="o">=</span> <span class="s2">"admin,editor,viewer"</span><span class="p">;</span>
<span class="nv">$permisosUsuario2</span> <span class="o">=</span> <span class="s2">"editor,viewer"</span><span class="p">;</span>
<span class="nv">$permisosUsuario3</span> <span class="o">=</span> <span class="s2">"viewer,editor,admin"</span><span class="p">;</span>

<span class="k">echo</span> <span class="s2">"&lt;p&gt;Usuario 1 tiene permiso de admin: "</span> <span class="o">.</span> <span class="p">(</span><span class="nx">tienePermisoAdmin</span><span class="p">(</span><span class="nv">$permisosUsuario1</span><span class="p">)</span> <span class="o">?</span> <span class="s1">'Sí'</span> <span class="o">:</span> <span class="s1">'No'</span><span class="p">)</span> <span class="o">.</span> <span class="s2">"&lt;/p&gt;"</span><span class="p">;</span> <span class="c1">// Salida incorrecta: No</span>
<span class="k">echo</span> <span class="s2">"&lt;p&gt;Usuario 2 tiene permiso de admin: "</span> <span class="o">.</span> <span class="p">(</span><span class="nx">tienePermisoAdmin</span><span class="p">(</span><span class="nv">$permisosUsuario2</span><span class="p">)</span> <span class="o">?</span> <span class="s1">'Sí'</span> <span class="o">:</span> <span class="s1">'No'</span><span class="p">)</span> <span class="o">.</span> <span class="s2">"&lt;/p&gt;"</span><span class="p">;</span> <span class="c1">// Salida correcta: No</span>
<span class="k">echo</span> <span class="s2">"&lt;p&gt;Usuario 3 tiene permiso de admin: "</span> <span class="o">.</span> <span class="p">(</span><span class="nx">tienePermisoAdmin</span><span class="p">(</span><span class="nv">$permisosUsuario3</span><span class="p">)</span> <span class="o">?</span> <span class="s1">'Sí'</span> <span class="o">:</span> <span class="s1">'No'</span><span class="p">)</span> <span class="o">.</span> <span class="s2">"&lt;/p&gt;"</span><span class="p">;</span> <span class="c1">// Salida correcta: Sí</span>
<span class="cp">?&gt;</span>
</code></pre></div>
<h5 id="tarea-a-realizar_4"><strong>Tarea a realizar:</strong></h5>
<ol>
<li>Analiza por qué la llamada con <code>$permisosUsuario1</code> falla. Lee la documentación de <code>strpos()</code> si es necesario y presta atención a sus posibles valores de retorno.</li>
<li>Corrige la condición <code>if</code> para que la función se comporte como se espera en todos los casos.</li>
<li>Añade un comentario en el código explicando por qué la versión original fallaba y por qué tu corrección funciona.</li>
</ol>
<h5 id="aplicacion-en-el-mundo-real_5"><strong>Aplicación en el Mundo Real:</strong></h5>
<p>Los bugs de comparación (usar <code>==</code> donde se necesita <code>===</code>) son una fuente común de errores sutiles y difíciles de encontrar en lenguajes con tipado débil. Aprender a detectarlos es una habilidad de depuración crucial.</p>
</div>
<div class="admonition abstract">
<p class="admonition-title">6) Calculadora de Métricas del Sprint | Nivel: Fácil</p>
<h5 id="objetivo_5"><strong>Objetivo:</strong></h5>
<p>Utilizar funciones de arrays para realizar cálculos agregados sobre un conjunto de datos numéricos.</p>
<h5 id="tarea-a-realizar_5"><strong>Tarea a realizar:</strong></h5>
<p>Se nos ha proporcionado un array con las horas que cada desarrollador ha dedicado a las tareas del sprint actual. Necesitamos una función que calcule y devuelva las métricas clave.
1.  Crea una función <code>calcularMetricas(array $horas)</code> que reciba una lista de horas.
2.  Dentro de la función, calcula:
    *   El número total de tareas (<code>count</code>).
    *   El total de horas dedicadas (<code>array_sum</code>).
    *   La media de horas por tarea (total horas / total tareas).
3.  La función debe devolver un <strong>array asociativo</strong> con estas métricas: <code>['total_tareas' =&gt; ..., 'total_horas' =&gt; ..., 'media_horas' =&gt; ...]</code>.
4.  Llama a la función y muestra los resultados de forma clara.</p>
<h5 id="setup-inicial_2"><strong>Setup Inicial:</strong></h5>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="nv">$horasTareasSprint</span> <span class="o">=</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">16</span><span class="p">];</span>
<span class="cp">?&gt;</span>
</code></pre></div>
<h5 id="aplicacion-en-el-mundo-real_6"><strong>Aplicación en el Mundo Real:</strong></h5>
<p>El análisis de datos es una tarea diaria en el desarrollo de software, desde calcular la media de precios en un catálogo de productos hasta obtener estadísticas de uso de una web. Conocer las funciones de agregación de PHP ahorra mucho tiempo.</p>
</div>
<h2 id="ejercicios-de-refuerzo">Ejercicios de Refuerzo</h2>
<p>Estos ejercicios te guiarán a través de problemas ligeramente más complejos, dándote pistas para que puedas conectar los conceptos y construir soluciones más robustas.</p>
<div class="admonition warning">
<p class="admonition-title">7) Gestor de Configuración de la Aplicación | Nivel: Medio</p>
<h5 id="objetivo_6"><strong>Objetivo:</strong></h5>
<p>Crear una función que lea y modifique un array de configuración, demostrando el paso de argumentos por referencia.</p>
<h5 id="tarea-a-realizar_6"><strong>Tarea a realizar:</strong></h5>
<p>NexusCore necesita un sistema de configuración flexible. Tenemos una configuración base y queremos una función que aplique una configuración específica del entorno (por ejemplo, 'desarrollo' o 'producción') a la configuración principal.
1.  Crea una función <code>aplicarConfiguracion(array &amp;$configBase, array $configEntorno)</code>. Fíjate en el <code>&amp;</code>.
2.  Dentro de la función, utiliza la función <code>array_merge()</code> para fusionar la <code>$configEntorno</code> sobre la <code>$configBase</code>. Esto sobrescribirá o añadirá las claves de la configuración del entorno.
3.  Llama a la función. Después de llamarla, imprime el array <code>$configuracionBase</code> para demostrar que ha sido modificado directamente.</p>
<ul>
<li><strong>Pista:</strong> El paso por referencia (<code>&amp;</code>) hace que la función modifique la variable original que le pasaste, en lugar de una copia. <code>array_merge()</code> combina arrays, y si las claves son iguales, el valor del segundo array sobrescribe al del primero.</li>
</ul>
<h5 id="setup-inicial_3"><strong>Setup Inicial:</strong></h5>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="c1">// Configuración por defecto para NexusCore</span>
<span class="nv">$configuracionBase</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">'db_host'</span> <span class="o">=&gt;</span> <span class="s1">'localhost'</span><span class="p">,</span>
    <span class="s1">'db_user'</span> <span class="o">=&gt;</span> <span class="s1">'user_prod'</span><span class="p">,</span>
    <span class="s1">'debug_mode'</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">,</span>
    <span class="s1">'log_level'</span> <span class="o">=&gt;</span> <span class="s1">'error'</span>
<span class="p">];</span>

<span class="c1">// Configuración específica para el entorno de desarrollo</span>
<span class="nv">$configuracionDesarrollo</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">'db_host'</span> <span class="o">=&gt;</span> <span class="s1">'127.0.0.1'</span><span class="p">,</span>
    <span class="s1">'db_user'</span> <span class="o">=&gt;</span> <span class="s1">'dev_user'</span><span class="p">,</span>
    <span class="s1">'debug_mode'</span> <span class="o">=&gt;</span> <span class="k">true</span>
<span class="p">];</span>
<span class="cp">?&gt;</span>
</code></pre></div>
<h5 id="aplicacion-en-el-mundo-real_7"><strong>Aplicación en el Mundo Real:</strong></h5>
<p>Las aplicaciones modernas (como las basadas en Symfony o Laravel) gestionan múltiples entornos (desarrollo, pruebas, producción). Cargan una configuración base y luego la "sobrescriben" con la configuración del entorno específico en el que se están ejecutando.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">8) Generador de Slugs para Artículos del Blog | Nivel: Medio</p>
<h5 id="objetivo_7"><strong>Objetivo:</strong></h5>
<p>Combinar múltiples funciones de cadena y array para resolver un problema común en los CMS: la creación de URLs amigables (slugs).</p>
<h5 id="tarea-a-realizar_7"><strong>Tarea a realizar:</strong></h5>
<p>Crea una función <code>crearSlug(string $titulo): string</code> que convierta un título de artículo en un "slug" válido para una URL. Un slug solo debe contener letras minúsculas, números y guiones.
1.  <strong>Define la función</strong> <code>crearSlug</code>.
2.  Dentro de la función, aplica la siguiente secuencia de transformaciones al <code>$titulo</code>:
    *   Conviértelo a minúsculas (<code>strtolower</code>).
    *   Reemplaza los espacios por guiones (<code>str_replace</code>).
    *   <strong>Reto:</strong> Elimina cualquier caracter que no sea letra, número o guión. Para esto, tendrás que investigar la función <code>preg_replace()</code> con una expresión regular simple.
3.  Llama a la función con el título de ejemplo y muestra el slug resultante.</p>
<ul>
<li><strong>Pista 1:</strong> Para el reemplazo de espacios, <code>str_replace(' ', '-', $titulo)</code> es tu amigo.</li>
<li><strong>Pista 2:</strong> La expresión regular para "cualquier cosa que NO sea a-z, 0-9 o guión" es <code>/[^a-z0-9-]+/</code>. <code>preg_replace</code> puede reemplazar todo lo que coincida con esa expresión por una cadena vacía.</li>
</ul>
<h5 id="setup-inicial_4"><strong>Setup Inicial:</strong></h5>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="nv">$tituloArticulo</span> <span class="o">=</span> <span class="s2">"¡Nuevo Framework de PHP en 2025! ¿Cuál elegir?"</span><span class="p">;</span>
<span class="cp">?&gt;</span>
</code></pre></div>
<h5 id="aplicacion-en-el-mundo-real_8"><strong>Aplicación en el Mundo Real:</strong></h5>
<p>WordPress, Drupal, y casi cualquier CMS, utilizan una función como esta para generar las URLs de las páginas a partir de su título. URLs limpias como <code>/mi-articulo-genial</code> son mejores para el SEO y para los usuarios que <code>/page.php?id=123</code>.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">9) Parser de Logs del Sistema | Nivel: Medio</p>
<h5 id="objetivo_8"><strong>Objetivo:</strong></h5>
<p>Procesar una cadena de texto multilínea (un log), dividiéndola en partes manejables (un array) y extrayendo información estructurada de cada parte.</p>
<h5 id="tarea-a-realizar_8"><strong>Tarea a realizar:</strong></h5>
<p>Tenemos un log de accesos en formato <code>[FECHA_HORA] [NIVEL] MENSAJE</code>. Queremos crear una tabla HTML que muestre solo los logs de nivel <code>ERROR</code>.
1.  Usa <code>explode()</code> con el delimitador <code>\n</code> (salto de línea) para convertir el string del log en un array de líneas.
2.  Recorre el array de líneas con <code>foreach</code>.
3.  Dentro del bucle, por cada línea:
    *   Usa <code>strpos()</code> para comprobar si la línea contiene la subcadena <code>[ERROR]</code>.
    *   Si es un error, usa <code>explode()</code> o <code>preg_match()</code> para separar la fecha, el nivel y el mensaje.
    *   Imprime una fila <code>&lt;tr&gt;</code> de una tabla con los datos extraídos.</p>
<ul>
<li><strong>Pista:</strong> Después de hacer <code>explode("\n", $log)</code>, recorre el array resultante. Dentro del bucle, un simple <code>if (strpos($linea, '[ERROR]') !== false)</code> te permitirá filtrar las líneas que te interesan.</li>
</ul>
<h5 id="setup-inicial_5"><strong>Setup Inicial:</strong></h5>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="nv">$logData</span> <span class="o">=</span> <span class="s">&lt;&lt;&lt;</span><span class="dl">LOG</span>
<span class="s">[2025-07-28 10:00:00] [INFO] User 'ana' logged in successfully.</span>
<span class="s">[2025-07-28 10:01:15] [DEBUG] Database query executed.</span>
<span class="s">[2025-07-28 10:02:30] [ERROR] Failed to connect to payment gateway.</span>
<span class="s">[2025-07-28 10:03:00] [INFO] User 'luis' updated his profile.</span>
<span class="s">[2025-07-28 10:05:00] [ERROR] Division by zero in financial report generator.</span>
<span class="dl">LOG</span><span class="p">;</span>
<span class="cp">?&gt;</span>
</code></pre></div>
<h5 id="aplicacion-en-el-mundo-real_9"><strong>Aplicación en el Mundo Real:</strong></h5>
<p>Los desarrolladores pasan mucho tiempo analizando ficheros de log para depurar problemas. Escribir pequeños scripts para filtrar y formatear estos logs es una habilidad increíblemente útil que automatiza una tarea manual y tediosa.</p>
</div>
<h2 id="ejercicios-de-ampliacion">Ejercicios de Ampliación</h2>
<p>Estos son retos abiertos que te invitan a investigar, diseñar tu propia solución y, finalmente, colaborar con tus compañeros. Aquí es donde demuestras tu dominio y creatividad.</p>
<div class="admonition danger">
<p class="admonition-title">10) Procesador de Datos CSV | Nivel: Alto</p>
<h5 id="objetivo_9"><strong>Objetivo:</strong></h5>
<p>Diseñar e implementar un sistema robusto para procesar datos en formato CSV (valores separados por comas), aplicando validaciones y transformaciones para convertirlo en un array PHP limpio y estructurado.</p>
<h5 id="tarea-a-realizar_9"><strong>Tarea a realizar:</strong></h5>
<p>Recibes una cadena que simula el contenido de un fichero CSV con datos de nuevos empleados. Tu tarea es convertir esta cadena en un array de usuarios bien formado, como el que usamos en el ejercicio 1.
1.  <strong>Crea una función <code>procesarCSV(string $csvContent): array</code></strong>.
2.  <strong>Paso 1: Parsear el CSV.</strong>
    *   Divide el string en un array de líneas.
    *   Extrae la primera línea, que contiene las cabeceras (<code>explode</code>).
    *   Recorre las líneas de datos restantes. Por cada línea, conviértela en un array de valores.
    *   Crea un array asociativo para cada usuario, usando las cabeceras como claves y los valores de la línea actual como valores (<code>array_combine</code>).
3.  <strong>Paso 2: Validar y Limpiar.</strong>
    *   Dentro del bucle, por cada usuario creado:
        *   Valida que el email contenga un <code>@</code> (<code>strpos</code>). Si no, salta este usuario o márcalo como inválido.
        *   Limpia el nombre y el rol usando <code>trim()</code>.
        *   Convierte la cadena de tecnologías en un array de tecnologías (<code>explode</code> por ';').
4.  La función debe devolver un array de todos los usuarios válidos y procesados.</p>
<h5 id="setup-inicial_6"><strong>Setup Inicial:</strong></h5>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="nv">$csvData</span> <span class="o">=</span> <span class="s">&lt;&lt;&lt;</span><span class="dl">CSV</span>
<span class="s">nombre,email,rol,tecnologias</span>
<span class="s">David Roca, david.r@devcore.com , Frontend Developer, "HTML;CSS;React"</span>
<span class="s">Maria Fuentes, maria.fuentes@devcore.com, Backend Developer, "PHP;PostgreSQL"</span>
<span class="s">Juan Abad, juan.abad@, Project Manager, "Jira;Scrum"</span>
<span class="dl">CSV</span><span class="p">;</span>
<span class="cp">?&gt;</span>
</code></pre></div>
<h5 id="aplicacion-en-el-mundo-real_10"><strong>Aplicación en el Mundo Real:</strong></h5>
<p>La importación/exportación de datos en formato CSV es una funcionalidad estándar en la mayoría de aplicaciones empresariales. Poder procesar estos datos, validarlos y transformarlos es una tarea de backend extremadamente común.</p>
</div>
<div class="admonition danger">
<p class="admonition-title">11) Refactorización y Revisión por Pares (Peer Review) | Nivel: Alto</p>
<h5 id="objetivo_10"><strong>Objetivo:</strong></h5>
<p>Mejorar un código existente (refactorizar) y luego analizar el código de un compañero, una práctica esencial en equipos de desarrollo profesionales.</p>
<h5 id="tarea-a-realizar-parte-1-individual"><strong>Tarea a realizar (Parte 1 - Individual):</strong></h5>
<p>Abajo tienes una función <code>generarResumenUsuario</code> que funciona, pero es poco eficiente y difícil de leer. Tu tarea es <strong>refactorizarla</strong>:
1.  Crea una nueva versión de la función que sea más clara y eficiente.
2.  Utiliza <code>implode()</code> en lugar de un bucle <code>foreach</code> para unir las tecnologías.
3.  Usa concatenación o, mejor aún, la interpolación de cadenas de comillas dobles para construir el string final de una forma más legible.
4.  Asegúrate de que la nueva función siga pasando las pruebas.</p>
<h5 id="setup-inicial-codigo-a-refactorizar"><strong>Setup Inicial (Código a refactorizar):</strong></h5>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="k">function</span> <span class="nf">generarResumenUsuario</span><span class="p">(</span><span class="nv">$usuario</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$resumen</span> <span class="o">=</span> <span class="s2">"Resumen del Usuario:</span><span class="se">\n</span><span class="s2">"</span><span class="p">;</span>
    <span class="nv">$resumen</span> <span class="o">=</span> <span class="nv">$resumen</span> <span class="o">.</span> <span class="s2">"ID: "</span> <span class="o">.</span> <span class="nv">$usuario</span><span class="p">[</span><span class="s1">'id'</span><span class="p">]</span> <span class="o">.</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="p">;</span>
    <span class="nv">$resumen</span> <span class="o">=</span> <span class="nv">$resumen</span> <span class="o">.</span> <span class="s2">"Nombre: "</span> <span class="o">.</span> <span class="nv">$usuario</span><span class="p">[</span><span class="s1">'nombre'</span><span class="p">]</span> <span class="o">.</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="p">;</span>
    <span class="nv">$resumen</span> <span class="o">=</span> <span class="nv">$resumen</span> <span class="o">.</span> <span class="s2">"Email: "</span> <span class="o">.</span> <span class="nv">$usuario</span><span class="p">[</span><span class="s1">'email'</span><span class="p">]</span> <span class="o">.</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="p">;</span>
    <span class="nv">$resumen</span> <span class="o">=</span> <span class="nv">$resumen</span> <span class="o">.</span> <span class="s2">"Habilidades: "</span><span class="p">;</span>
    <span class="nv">$habilidades_str</span> <span class="o">=</span> <span class="s2">""</span><span class="p">;</span>
    <span class="nv">$i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">foreach</span><span class="p">(</span><span class="nv">$usuario</span><span class="p">[</span><span class="s1">'tecnologias'</span><span class="p">]</span> <span class="k">as</span> <span class="nv">$tec</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$habilidades_str</span> <span class="o">=</span> <span class="nv">$habilidades_str</span> <span class="o">.</span> <span class="nv">$tec</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="nv">$i</span> <span class="o">&lt;</span> <span class="nb">count</span><span class="p">(</span><span class="nv">$usuario</span><span class="p">[</span><span class="s1">'tecnologias'</span><span class="p">])</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
            <span class="nv">$habilidades_str</span> <span class="o">=</span> <span class="nv">$habilidades_str</span> <span class="o">.</span> <span class="s2">", "</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="nv">$i</span><span class="o">++</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nv">$resumen</span> <span class="o">=</span> <span class="nv">$resumen</span> <span class="o">.</span> <span class="nv">$habilidades_str</span> <span class="o">.</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="p">;</span>
    <span class="k">return</span> <span class="nv">$resumen</span><span class="p">;</span>
<span class="p">}</span>

<span class="nv">$miembro</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">'id'</span> <span class="o">=&gt;</span> <span class="mi">101</span><span class="p">,</span> <span class="s1">'nombre'</span> <span class="o">=&gt;</span> <span class="s1">'Ana Garrido'</span><span class="p">,</span> <span class="s1">'email'</span> <span class="o">=&gt;</span> <span class="s1">'ana.g@devcore.com'</span><span class="p">,</span>
    <span class="s1">'tecnologias'</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">'PHP'</span><span class="p">,</span> <span class="s1">'Symfony'</span><span class="p">,</span> <span class="s1">'MySQL'</span><span class="p">]</span>
<span class="p">];</span>
<span class="c1">// echo "&lt;pre&gt;" . generarResumenUsuario($miembro) . "&lt;/pre&gt;";</span>
<span class="cp">?&gt;</span>
</code></pre></div>
<h5 id="tarea-a-realizar-parte-2-peer-review"><strong>Tarea a realizar (Parte 2 - Peer Review):</strong></h5>
<ol>
<li>Intercambia tu solución refactorizada con un compañero.</li>
<li>Revisa su código y proporciona feedback constructivo sobre estos puntos:<ul>
<li><strong>Claridad:</strong> ¿Es el código fácil de entender a simple vista?</li>
<li><strong>Eficiencia:</strong> ¿Ha utilizado las funciones de PHP adecuadas para la tarea (ej: <code>implode</code>)?</li>
<li><strong>Buenas prácticas:</strong> ¿Usa tipado de parámetros y de retorno? ¿El nombre de la función y las variables son descriptivos?</li>
</ul>
</li>
<li>Prepara un pequeño resumen de tu revisión para discutirlo con tu compañero.</li>
</ol>
<h5 id="aplicacion-en-el-mundo-real_11"><strong>Aplicación en el Mundo Real:</strong></h5>
<p>El Peer Review (o revisión de código) es un pilar de los equipos de software de calidad. Ayuda a detectar bugs, a compartir conocimiento y a mantener un estándar de código alto en todo el proyecto.</p>
</div>
<div class="admonition danger">
<p class="admonition-title">12) Mini Motor de Plantillas | Nivel: Alto</p>
<h5 id="objetivo_11"><strong>Objetivo:</strong></h5>
<p>Construir una función avanzada que simule el comportamiento de un motor de plantillas básico (como Twig o Blade), reemplazando marcadores de posición en una cadena con datos de un array.</p>
<h5 id="tarea-a-realizar_10"><strong>Tarea a realizar:</strong></h5>
<p>Crea una función <code>render(string $plantilla, array $datos): string</code>.
1.  La función recibirá una cadena <code>$plantilla</code> que contiene marcadores de posición con el formato <code>{{clave}}</code>.
2.  También recibirá un array asociativo <code>$datos</code> donde las claves coinciden con los nombres de los marcadores de posición.
3.  Tu misión es reemplazar cada marcador <code>{{clave}}</code> en la plantilla por su valor correspondiente en el array <code>$datos</code>.
4.  La función debe devolver la plantilla "renderizada" como un string.</p>
<ul>
<li><strong>Pista:</strong> La forma más elegante de hacer esto es con un bucle <code>foreach</code> sobre el array <code>$datos</code>. En cada iteración, usa <code>str_replace()</code> para reemplazar el marcador <code>{{$clave}}</code> por el <code>$valor</code>.</li>
</ul>
<h5 id="setup-inicial_7"><strong>Setup Inicial:</strong></h5>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="nv">$plantillaEmail</span> <span class="o">=</span> <span class="s2">"Hola, {{nombre}}.</span><span class="se">\n\n</span><span class="s2">Te informamos que tu solicitud de vacaciones para las fechas {{fechas}} ha sido {{estado}}.</span><span class="se">\n\n</span><span class="s2">Gracias,</span><span class="se">\n</span><span class="s2">El equipo de NexusCore."</span><span class="p">;</span>

<span class="nv">$datosParaEmail</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">'nombre'</span> <span class="o">=&gt;</span> <span class="s1">'Luis Campos'</span><span class="p">,</span>
    <span class="s1">'fechas'</span> <span class="o">=&gt;</span> <span class="s1">'del 01/08 al 15/08'</span><span class="p">,</span>
    <span class="s1">'estado'</span> <span class="o">=&gt;</span> <span class="s1">'aprobada'</span>
<span class="p">];</span>
<span class="cp">?&gt;</span>
</code></pre></div>
<h5 id="aplicacion-en-el-mundo-real_12"><strong>Aplicación en el Mundo Real:</strong></h5>
<p>Esta es la base conceptual de todos los motores de plantillas modernos que separan la lógica (PHP) de la presentación (HTML). Aunque las implementaciones reales son mucho más complejas, el principio de "buscar y reemplazar marcadores" es el mismo. Crear esta función te dará una comprensión profunda de cómo funcionan herramientas como Twig, Blade o Smarty.</p>
</div>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
<button class="md-top md-icon" data-md-component="top" hidden="" type="button">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  Back to top
</button>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.sections", "navigation.top"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
<script src="../../assets/javascripts/bundle.92b07e13.min.js"></script>
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script><script type="text/javascript">(function initializeMarkmap() {
    const transformer = new markmap.Transformer();
    const preloadScripts = transformer.plugins
        .flatMap((plugin) => plugin.config?.preloadScripts || [])
        .map((item) => transformer.resolveJS(item));
    const assets = transformer.getAssets();
    const loading = Promise.all([
        assets.styles && markmap.loadCSS(assets.styles),
        markmap.loadJS([...preloadScripts, ...assets.scripts]),
    ]);

    function parseData(content) {
        const { root, frontmatter } = transformer.transform(content);
        let options = markmap.deriveOptions(frontmatter?.markmap);
        options = Object.assign(
            {
                fitRatio: 0.85,
            },
            options
        );
        return { root, options };
    }

    function resetMarkmap(m, el) {
        if (!m.state.rect) return;
        const { x1, y1, x2, y2 } = m.state.rect;
        const height = (el.offsetWidth / (x2 - x1)) * (y2 - y1);
        el.style.height = height + "px";
        m.fit();
    }

    function decodeBase64(encoded) {
        const binary = atob(encoded);
        const bytes = new Uint8Array(binary.length);
        for (let i = 0; i < bytes.length; i++) {
            bytes[i] = binary.charCodeAt(i);
        }
        return new TextDecoder().decode(bytes);
    }

    function renderMarkmap(el) {
        const dataEl = el.querySelector("markmap-data");
        if (!dataEl) return;
        let content = el.textContent;
        if (dataEl.getAttribute("encoding") === "base64") {
            content = decodeBase64(content);
        }
        el.innerHTML = "<svg>";
        svg = el.firstChild;
        const { root, options } = parseData(content);
        const m = markmap.Markmap.create(svg, options);
        m.setData(root);
        requestAnimationFrame(() => {
            resetMarkmap(m, el);
        });
    }

    function updateMarkmaps(node) {
        for (const el of node.querySelectorAll(".mkdocs-markmap")) {
            renderMarkmap(el);
        }
    }

    loading.then(() => {
        const observer = new MutationObserver((mutationList) => {
            for (const mutation of mutationList) {
                if (mutation.type === "childList") {
                    for (const node of mutation.addedNodes) {
                        updateMarkmaps(node);
                    }
                }
            }
        });

        observer.observe(document.body, { childList: true });

        updateMarkmaps(document);
    });
})();
</script></body>
</html>