
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://veslava-edu.github.io/dwes/2-PHP/10-MVC-Ejercicios/">
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.18">
    
    
      
        <title>Ejercicios Prácticos: Arquitectura MVC con PHP - DWES</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/custom.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../assets/javascripts/glightbox.min.js"></script><script src="../../toggle-sidebar.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#ejercicios-practicos-arquitectura-mvc-con-php" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="DWES" class="md-header__button md-logo" aria-label="DWES" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DWES
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Ejercicios Prácticos: Arquitectura MVC con PHP
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Cambiar a modo oscuro"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Cambiar a modo oscuro" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Cambiar a modo claro"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Cambiar a modo claro" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Inicio

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../1-ArquitecturaWEB/UD1-Arquitectura-Web-y-Software-en-Servidor/" class="md-tabs__link">
          
  
  
  Arquitectura WEB y Servidor

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../01-Introduccion/" class="md-tabs__link">
          
  
  
  PHP

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="#" class="md-tabs__link">
          
  
  
  Node.js

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="DWES" class="md-nav__button md-logo" aria-label="DWES" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    DWES
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Inicio
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Arquitectura WEB y Servidor
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Arquitectura WEB y Servidor
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1-ArquitecturaWEB/UD1-Arquitectura-Web-y-Software-en-Servidor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    00 - Arquitectura-Web-y-Software-en-Servidor
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1-ArquitecturaWEB/UD1.1-Entorno-WAMP/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    01 - Entorno-WAMP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1-ArquitecturaWEB/UD1.2-Virtualizacion-Docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    02 - Virtualizacion-Docker
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1-ArquitecturaWEB/UD1.3-Control-Versiones-GIT/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    03 - Control-Versiones-GIT
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    PHP
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            PHP
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../01-Introduccion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    01 - Introducción
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../02-Sintaxis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    02 - Sintaxis
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../03-Control/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    03 - Estructuras de Control
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../04-Arrays-Funciones-Strings/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    04 - Arrays, Funciones y Strings
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../05-POO/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    05 - POO - Programación Orientada a Objetos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../06-Include/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    06 - Include y Require
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../07-GET-POST-Formularios/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    07 - GET y POST - Formularios
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../08-Gesti%C3%B3n-de-estado-Cookies-Sesiones/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    08 - Gestión de estado - Cookies y Sesiones
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../09-Ficheros/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    09 - Ficheros
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../10-BasesDatos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    10 - Bases de Datos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../11-Navegacion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    11 - Navegación
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../12-Dependencias/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    12 - Dependencias
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../13-Servicios-WEB/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    13 - Servicios WEB
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../14-Documentacion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    14 - Documentación
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../15-LOGS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    15 - Logs en PHP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../16-WebScraping/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    16 - WebScraping
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../17-Testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    17 - Testing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_18" >
        
          
          <label class="md-nav__link" for="__nav_3_18" id="__nav_3_18_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Laravel
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_18_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_18">
            <span class="md-nav__icon md-icon"></span>
            Laravel
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L1 - Introducción a Laravel
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L2 - Entorno
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L3 - Eloquent ORM
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L4 - Controladores
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L5 - Almacenamiento
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L6 - Vistas (Blade)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L7 - Autenticación y Autorización
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L8 - Sesiones y Cookies
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L9 - Testing
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Node.js
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Node.js
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    01 - Intro a Node.js
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    02 - Intro a TypeScript
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    03 - Intro a NestJS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    04 - Creación de Recursos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    05 - TypeORM
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    06 - Testing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    07 - Almacenamiento de Ficheros
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    08 - WebSockets
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    09 - Endpoints Avanzados
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    10 - MongoDB
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    11 - Seguridad
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    12 - Documentación
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    13 - Perfiles
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="#" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    14 - Despliegue
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduccion-al-proyecto-gamehub" class="md-nav__link">
    <span class="md-ellipsis">
      Introducción al Proyecto: "GameHub"
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ejercicios-de-consolidacion" class="md-nav__link">
    <span class="md-ellipsis">
      Ejercicios de Consolidación
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ejercicios de Consolidación">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#objetivo" class="md-nav__link">
    <span class="md-ellipsis">
      Objetivo:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarea-a-realizar" class="md-nav__link">
    <span class="md-ellipsis">
      Tarea a realizar:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aplicacion-en-el-mundo-real" class="md-nav__link">
    <span class="md-ellipsis">
      Aplicación en el Mundo Real:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#objetivo_1" class="md-nav__link">
    <span class="md-ellipsis">
      Objetivo:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setup-inicial" class="md-nav__link">
    <span class="md-ellipsis">
      Setup Inicial:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarea-a-realizar_1" class="md-nav__link">
    <span class="md-ellipsis">
      Tarea a realizar:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aplicacion-en-el-mundo-real_1" class="md-nav__link">
    <span class="md-ellipsis">
      Aplicación en el Mundo Real:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#objetivo_2" class="md-nav__link">
    <span class="md-ellipsis">
      Objetivo:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setup-inicial_1" class="md-nav__link">
    <span class="md-ellipsis">
      Setup Inicial:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarea-a-realizar_2" class="md-nav__link">
    <span class="md-ellipsis">
      Tarea a realizar:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aplicacion-en-el-mundo-real_2" class="md-nav__link">
    <span class="md-ellipsis">
      Aplicación en el Mundo Real:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ejercicios-de-refuerzo" class="md-nav__link">
    <span class="md-ellipsis">
      Ejercicios de Refuerzo
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ejercicios de Refuerzo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#objetivo_3" class="md-nav__link">
    <span class="md-ellipsis">
      Objetivo:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setup-inicial_2" class="md-nav__link">
    <span class="md-ellipsis">
      Setup Inicial:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarea-a-realizar_3" class="md-nav__link">
    <span class="md-ellipsis">
      Tarea a realizar:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aplicacion-en-el-mundo-real_3" class="md-nav__link">
    <span class="md-ellipsis">
      Aplicación en el Mundo Real:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#objetivo_4" class="md-nav__link">
    <span class="md-ellipsis">
      Objetivo:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setup-inicial_3" class="md-nav__link">
    <span class="md-ellipsis">
      Setup Inicial:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarea-a-realizar_4" class="md-nav__link">
    <span class="md-ellipsis">
      Tarea a realizar:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aplicacion-en-el-mundo-real_4" class="md-nav__link">
    <span class="md-ellipsis">
      Aplicación en el Mundo Real:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ejercicios-de-ampliacion" class="md-nav__link">
    <span class="md-ellipsis">
      Ejercicios de Ampliación
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ejercicios de Ampliación">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#objetivo_5" class="md-nav__link">
    <span class="md-ellipsis">
      Objetivo:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarea-a-realizar_5" class="md-nav__link">
    <span class="md-ellipsis">
      Tarea a realizar:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#peer-review-revision-por-pares" class="md-nav__link">
    <span class="md-ellipsis">
      Peer Review (Revisión por Pares):
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aplicacion-en-el-mundo-real_5" class="md-nav__link">
    <span class="md-ellipsis">
      Aplicación en el Mundo Real:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="ejercicios-practicos-arquitectura-mvc-con-php">Ejercicios Prácticos: Arquitectura MVC con PHP</h1>
<h2 id="introduccion-al-proyecto-gamehub">Introducción al Proyecto: "GameHub"</h2>
<p>¡Enhorabuena, equipo! Hemos sido "contratados" para desarrollar el prototipo de <strong>"GameHub"</strong>, una nueva aplicación web para que los gamers puedan catalogar, consultar y gestionar su colección de videojuegos. Este proyecto es la excusa perfecta para aplicar las mejores prácticas de arquitectura de software desde el principio. Empezaremos construyendo el núcleo de la aplicación, aplicando el patrón MVC para asegurarnos de que nuestro código sea limpio, ordenado y escalable. ¡Manos al código!</p>
<h2 id="ejercicios-de-consolidacion">Ejercicios de Consolidación</h2>
<div class="admonition abstract">
<p class="admonition-title">1) El Plano de GameHub: Identificando Componentes | Nivel: Fácil</p>
<h5 id="objetivo"><strong>Objetivo:</strong></h5>
<p>Asegurar la comprensión teórica de las responsabilidades de cada componente del patrón MVC en el contexto de nuestro proyecto.</p>
<h5 id="tarea-a-realizar"><strong>Tarea a realizar:</strong></h5>
<p>Imagina que la aplicación "GameHub" ya está parcialmente construida. Responde a las siguientes preguntas, indicando qué componente MVC (Modelo, Vista o Controlador) sería el responsable principal de cada tarea.</p>
<ol>
<li>Cuando un usuario hace clic en "Ver detalles del 'The Witcher 3'", ¿qué componente es el primero en recibir esa petición y decidir qué hacer?</li>
<li>Para mostrar la carátula, el título y la descripción del juego en la página de detalles, ¿qué componente se encarga de escribir las etiquetas HTML (<code>&lt;img&gt;</code>, <code>&lt;h1&gt;</code>, <code>&lt;p&gt;</code>)?</li>
<li>¿Qué componente contendría la lógica para ejecutar la consulta <code>SELECT * FROM videojuegos WHERE id = 5</code> en la base de datos?</li>
<li>Si queremos añadir una regla de negocio que impida registrar juegos con un año de lanzamiento futuro, ¿en qué componente implementarías esa validación?</li>
<li>Un diseñador gráfico quiere rediseñar completamente la página del listado de juegos, cambiando la tabla por una cuadrícula de tarjetas (cards). ¿Qué componente es el único que debería necesitar modificar?</li>
</ol>
<h5 id="aplicacion-en-el-mundo-real"><strong>Aplicación en el Mundo Real:</strong></h5>
<p>En una reunión de equipo, es fundamental hablar el mismo idioma. Saber qué componente es responsable de qué tarea permite asignar responsabilidades de forma clara ("El equipo de front-end se encarga de la Vista", "El equipo de back-end se enfoca en el Modelo y el Controlador") y agiliza el desarrollo.</p>
<details class="success">
<summary>VER Solución.</summary>
<ol>
<li>El <strong>Controlador</strong>. Es el que recibe las interacciones del usuario y orquesta la respuesta.</li>
<li>La <strong>Vista</strong>. Su única responsabilidad es la presentación de los datos en HTML.</li>
<li>El <strong>Modelo</strong>. Es el único que debe comunicarse con la base de datos para obtener o manipular datos.</li>
<li>El <strong>Modelo</strong>. Las reglas de negocio y la validación de datos son una responsabilidad clave del Modelo para garantizar la integridad de la información.</li>
<li>La <strong>Vista</strong>. La estructura y el estilo del HTML son competencia exclusiva de la Vista. El Controlador y el Modelo no deberían verse afectados por un cambio puramente visual.</li>
</ol>
</details>
</div>
<div class="admonition abstract">
<p class="admonition-title">2) Refactorización: Del Caos Monolítico al Orden | Nivel: Fácil</p>
<h5 id="objetivo_1"><strong>Objetivo:</strong></h5>
<p>Aplicar el primer paso de la separación de responsabilidades, refactorizando un script monolítico en una estructura Controlador + Vista.</p>
<h5 id="setup-inicial"><strong>Setup Inicial:</strong></h5>
<p>Partimos de un único archivo <code>listado_juegos.php</code> que lo hace todo. Tu misión es dividirlo en dos.</p>
<p><strong><code>listado_juegos.php</code> (antes de refactorizar):</strong>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="k">declare</span><span class="p">(</span><span class="nx">strict_types</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span>

<span class="nv">$pdo</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PDO</span><span class="p">(</span><span class="s1">'mysql:host=localhost;dbname=gamehub_db'</span><span class="p">,</span> <span class="s1">'root'</span><span class="p">,</span> <span class="s1">''</span><span class="p">);</span>
<span class="nv">$resultado</span> <span class="o">=</span> <span class="nv">$pdo</span><span class="o">-&gt;</span><span class="na">query</span><span class="p">(</span><span class="s1">'SELECT nombre, plataforma, anio FROM videojuegos'</span><span class="p">);</span>
<span class="cp">?&gt;</span>
<span class="x">&lt;h1&gt;Mi Ludoteca&lt;/h1&gt;</span>
<span class="x">&lt;table border="1"&gt;</span>
<span class="x">    &lt;tr&gt;&lt;th&gt;Nombre&lt;/th&gt;&lt;th&gt;Plataforma&lt;/th&gt;&lt;th&gt;Año&lt;/th&gt;&lt;/tr&gt;</span>
<span class="x">    </span><span class="cp">&lt;?php</span> <span class="k">while</span> <span class="p">(</span><span class="nv">$fila</span> <span class="o">=</span> <span class="nv">$resultado</span><span class="o">-&gt;</span><span class="na">fetch</span><span class="p">(</span><span class="nx">PDO</span><span class="o">::</span><span class="na">FETCH_ASSOC</span><span class="p">))</span><span class="o">:</span> <span class="cp">?&gt;</span>
<span class="x">        &lt;tr&gt;</span>
<span class="x">            &lt;td&gt;</span><span class="cp">&lt;?</span><span class="o">=</span> <span class="nb">htmlspecialchars</span><span class="p">(</span><span class="nv">$fila</span><span class="p">[</span><span class="s1">'nombre'</span><span class="p">])</span> <span class="cp">?&gt;</span><span class="x">&lt;/td&gt;</span>
<span class="x">            &lt;td&gt;</span><span class="cp">&lt;?</span><span class="o">=</span> <span class="nb">htmlspecialchars</span><span class="p">(</span><span class="nv">$fila</span><span class="p">[</span><span class="s1">'plataforma'</span><span class="p">])</span> <span class="cp">?&gt;</span><span class="x">&lt;/td&gt;</span>
<span class="x">            &lt;td&gt;</span><span class="cp">&lt;?</span><span class="o">=</span> <span class="nb">htmlspecialchars</span><span class="p">(</span><span class="nv">$fila</span><span class="p">[</span><span class="s1">'anio'</span><span class="p">])</span> <span class="cp">?&gt;</span><span class="x">&lt;/td&gt;</span>
<span class="x">        &lt;/tr&gt;</span>
<span class="x">    </span><span class="cp">&lt;?php</span> <span class="k">endwhile</span><span class="p">;</span> <span class="cp">?&gt;</span>
<span class="x">&lt;/table&gt;</span>
</code></pre></div></p>
<h5 id="tarea-a-realizar_1"><strong>Tarea a realizar:</strong></h5>
<ol>
<li>Crea un archivo llamado <code>index.php</code> que actuará como <strong>Controlador</strong>. Mueve toda la lógica de PHP (conexión a la BD y consulta) a este archivo.</li>
<li>Crea un archivo llamado <code>vista_juegos.php</code> que actuará como <strong>Vista</strong>. Mueve todo el HTML a este archivo.</li>
<li>Asegúrate de que <code>index.php</code>, después de obtener los datos, carga <code>vista_juegos.php</code> y que la lista de juegos se muestra correctamente.</li>
</ol>
<h5 id="aplicacion-en-el-mundo-real_1"><strong>Aplicación en el Mundo Real:</strong></h5>
<p>La refactorización es una tarea diaria en el desarrollo de software. Muchas veces te encontrarás con código "legacy" (antiguo) que necesita ser modernizado y reorganizado para poder mantenerlo y extenderlo sin romper nada.</p>
<details class="success">
<summary>VER Solución.</summary>
<p><strong><code>index.php</code> (Controlador):</strong>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="k">declare</span><span class="p">(</span><span class="nx">strict_types</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span>

<span class="c1">// Lógica de datos y control</span>
<span class="nv">$pdo</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PDO</span><span class="p">(</span><span class="s1">'mysql:host=localhost;dbname=gamehub_db'</span><span class="p">,</span> <span class="s1">'root'</span><span class="p">,</span> <span class="s1">''</span><span class="p">);</span>
<span class="nv">$consulta</span> <span class="o">=</span> <span class="nv">$pdo</span><span class="o">-&gt;</span><span class="na">query</span><span class="p">(</span><span class="s1">'SELECT nombre, plataforma, anio FROM videojuegos'</span><span class="p">);</span>
<span class="nv">$videojuegos</span> <span class="o">=</span> <span class="nv">$consulta</span><span class="o">-&gt;</span><span class="na">fetchAll</span><span class="p">(</span><span class="nx">PDO</span><span class="o">::</span><span class="na">FETCH_ASSOC</span><span class="p">);</span>

<span class="c1">// Cargar la vista</span>
<span class="k">require</span> <span class="s1">'vista_juegos.php'</span><span class="p">;</span>
</code></pre></div></p>
<p><strong><code>vista_juegos.php</code> (Vista):</strong>
<div class="highlight"><pre><span></span><code><span class="x">&lt;!DOCTYPE html&gt;</span>
<span class="x">&lt;html lang="es"&gt;</span>
<span class="x">&lt;head&gt;</span>
<span class="x">    &lt;meta charset="UTF-8"&gt;</span>
<span class="x">    &lt;title&gt;GameHub - Mi Ludoteca&lt;/title&gt;</span>
<span class="x">&lt;/head&gt;</span>
<span class="x">&lt;body&gt;</span>
<span class="x">    &lt;h1&gt;Mi Ludoteca&lt;/h1&gt;</span>
<span class="x">    &lt;table border="1"&gt;</span>
<span class="x">        &lt;thead&gt;</span>
<span class="x">            &lt;tr&gt;&lt;th&gt;Nombre&lt;/th&gt;&lt;th&gt;Plataforma&lt;/th&gt;&lt;th&gt;Año&lt;/th&gt;&lt;/tr&gt;</span>
<span class="x">        &lt;/thead&gt;</span>
<span class="x">        &lt;tbody&gt;</span>
<span class="x">            </span><span class="cp">&lt;?php</span> <span class="k">foreach</span> <span class="p">(</span><span class="nv">$videojuegos</span> <span class="k">as</span> <span class="nv">$juego</span><span class="p">)</span><span class="o">:</span> <span class="cp">?&gt;</span>
<span class="x">                &lt;tr&gt;</span>
<span class="x">                    &lt;td&gt;</span><span class="cp">&lt;?</span><span class="o">=</span> <span class="nb">htmlspecialchars</span><span class="p">(</span><span class="nv">$juego</span><span class="p">[</span><span class="s1">'nombre'</span><span class="p">])</span> <span class="cp">?&gt;</span><span class="x">&lt;/td&gt;</span>
<span class="x">                    &lt;td&gt;</span><span class="cp">&lt;?</span><span class="o">=</span> <span class="nb">htmlspecialchars</span><span class="p">(</span><span class="nv">$juego</span><span class="p">[</span><span class="s1">'plataforma'</span><span class="p">])</span> <span class="cp">?&gt;</span><span class="x">&lt;/td&gt;</span>
<span class="x">                    &lt;td&gt;</span><span class="cp">&lt;?</span><span class="o">=</span> <span class="nb">htmlspecialchars</span><span class="p">(</span><span class="nv">$juego</span><span class="p">[</span><span class="s1">'anio'</span><span class="p">])</span> <span class="cp">?&gt;</span><span class="x">&lt;/td&gt;</span>
<span class="x">                &lt;/tr&gt;</span>
<span class="x">            </span><span class="cp">&lt;?php</span> <span class="k">endforeach</span><span class="p">;</span> <span class="cp">?&gt;</span>
<span class="x">        &lt;/tbody&gt;</span>
<span class="x">    &lt;/table&gt;</span>
<span class="x">&lt;/body&gt;</span>
<span class="x">&lt;/html&gt;</span>
</code></pre></div></p>
</details>
</div>
<div class="admonition abstract">
<p class="admonition-title">3) ¡Houston, tenemos un problema!: Depuración MVC | Nivel: Fácil</p>
<h5 id="objetivo_2"><strong>Objetivo:</strong></h5>
<p>Identificar y corregir un error común que viola los principios del patrón MVC.</p>
<h5 id="setup-inicial_1"><strong>Setup Inicial:</strong></h5>
<p>Un compañero ha intentado implementar la estructura MVC para mostrar los detalles de un solo juego, pero ha cometido un error conceptual. La aplicación no funciona y tienes que arreglarla.</p>
<p><strong><code>JuegoController.php</code>:</strong>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="k">class</span> <span class="nc">JuegoController</span> <span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">verDetalle</span><span class="p">()</span> <span class="p">{</span>
        <span class="nv">$idJuego</span> <span class="o">=</span> <span class="nv">$_GET</span><span class="p">[</span><span class="s1">'id'</span><span class="p">]</span> <span class="o">??</span> <span class="mi">1</span><span class="p">;</span>
        <span class="c1">// El controlador NO le pasa datos a la vista. ¡Mal!</span>
        <span class="k">require</span> <span class="s1">'vista_detalle.php'</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></p>
<p><strong><code>vista_detalle.php</code>:</strong>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="c1">// ¡¡¡ERROR GRAVE!!! La vista está consultando la base de datos.</span>
<span class="nv">$pdo</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PDO</span><span class="p">(</span><span class="s1">'mysql:host=localhost;dbname=gamehub_db'</span><span class="p">,</span> <span class="s1">'root'</span><span class="p">,</span> <span class="s1">''</span><span class="p">);</span>
<span class="nv">$consulta</span> <span class="o">=</span> <span class="nv">$pdo</span><span class="o">-&gt;</span><span class="na">prepare</span><span class="p">(</span><span class="s1">'SELECT * FROM videojuegos WHERE id = ?'</span><span class="p">);</span>
<span class="nv">$consulta</span><span class="o">-&gt;</span><span class="na">execute</span><span class="p">([</span><span class="nv">$_GET</span><span class="p">[</span><span class="s1">'id'</span><span class="p">]</span> <span class="o">??</span> <span class="mi">1</span><span class="p">]);</span> <span class="c1">// La vista depende de $_GET</span>
<span class="nv">$juego</span> <span class="o">=</span> <span class="nv">$consulta</span><span class="o">-&gt;</span><span class="na">fetch</span><span class="p">(</span><span class="nx">PDO</span><span class="o">::</span><span class="na">FETCH_ASSOC</span><span class="p">);</span>
<span class="cp">?&gt;</span>
<span class="x">&lt;h1&gt;</span><span class="cp">&lt;?</span><span class="o">=</span> <span class="nb">htmlspecialchars</span><span class="p">(</span><span class="nv">$juego</span><span class="p">[</span><span class="s1">'nombre'</span><span class="p">])</span> <span class="cp">?&gt;</span><span class="x">&lt;/h1&gt;</span>
<span class="x">&lt;p&gt;Plataforma: </span><span class="cp">&lt;?</span><span class="o">=</span> <span class="nb">htmlspecialchars</span><span class="p">(</span><span class="nv">$juego</span><span class="p">[</span><span class="s1">'plataforma'</span><span class="p">])</span> <span class="cp">?&gt;</span><span class="x">&lt;/p&gt;</span>
</code></pre></div></p>
<h5 id="tarea-a-realizar_2"><strong>Tarea a realizar:</strong></h5>
<ol>
<li>Identifica la violación del patrón MVC en el código.</li>
<li>Refactoriza el código para que cada componente cumpla su función:<ul>
<li>Crea un <code>JuegoModel.php</code> con un método <code>getById(int $id)</code>.</li>
<li>Modifica el <code>JuegoController.php</code> para que use el modelo para obtener los datos y luego se los pase a la vista.</li>
<li>Limpia la <code>vista_detalle.php</code> para que solo se encargue de mostrar los datos que recibe, sin acceder a la BD ni a <code>$_GET</code>.</li>
</ul>
</li>
</ol>
<h5 id="aplicacion-en-el-mundo-real_2"><strong>Aplicación en el Mundo Real:</strong></h5>
<p>En las revisiones de código (Code Reviews), una de las tareas más importantes es detectar violaciones de la arquitectura establecida. Un código que "funciona" pero rompe las reglas del patrón es una bomba de relojería para el futuro mantenimiento.</p>
<details class="success">
<summary>VER Solución.</summary>
<p><strong><code>JuegoModel.php</code> (Nuevo):</strong>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="k">class</span> <span class="nc">JuegoModel</span> <span class="p">{</span>
    <span class="k">private</span> <span class="nx">PDO</span> <span class="nv">$pdo</span><span class="p">;</span>
    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">()</span> <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">pdo</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PDO</span><span class="p">(</span><span class="s1">'mysql:host=localhost;dbname=gamehub_db'</span><span class="p">,</span> <span class="s1">'root'</span><span class="p">,</span> <span class="s1">''</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">getById</span><span class="p">(</span><span class="nx">int</span> <span class="nv">$id</span><span class="p">)</span><span class="o">:</span> <span class="o">?</span><span class="k">array</span> <span class="p">{</span>
        <span class="nv">$consulta</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">pdo</span><span class="o">-&gt;</span><span class="na">prepare</span><span class="p">(</span><span class="s1">'SELECT * FROM videojuegos WHERE id = ?'</span><span class="p">);</span>
        <span class="nv">$consulta</span><span class="o">-&gt;</span><span class="na">execute</span><span class="p">([</span><span class="nv">$id</span><span class="p">]);</span>
        <span class="nv">$resultado</span> <span class="o">=</span> <span class="nv">$consulta</span><span class="o">-&gt;</span><span class="na">fetch</span><span class="p">(</span><span class="nx">PDO</span><span class="o">::</span><span class="na">FETCH_ASSOC</span><span class="p">);</span>
        <span class="k">return</span> <span class="nv">$resultado</span> <span class="o">?:</span> <span class="k">null</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></p>
<p><strong><code>JuegoController.php</code> (Corregido):</strong>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'JuegoModel.php'</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">JuegoController</span> <span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">verDetalle</span><span class="p">()</span> <span class="p">{</span>
        <span class="nv">$idJuego</span> <span class="o">=</span> <span class="p">(</span><span class="nx">int</span><span class="p">)(</span><span class="nv">$_GET</span><span class="p">[</span><span class="s1">'id'</span><span class="p">]</span> <span class="o">??</span> <span class="mi">1</span><span class="p">);</span>

        <span class="nv">$modelo</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">JuegoModel</span><span class="p">();</span>
        <span class="nv">$juego</span> <span class="o">=</span> <span class="nv">$modelo</span><span class="o">-&gt;</span><span class="na">getById</span><span class="p">(</span><span class="nv">$idJuego</span><span class="p">);</span>

        <span class="k">require</span> <span class="s1">'vista_detalle.php'</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></p>
<p><strong><code>vista_detalle.php</code> (Corregido):</strong>
<div class="highlight"><pre><span></span><code><span class="x">&lt;!DOCTYPE html&gt;</span>
<span class="x">&lt;html lang="es"&gt;</span>
<span class="x">&lt;head&gt;</span>
<span class="x">    &lt;meta charset="UTF-8"&gt;</span>
<span class="x">    &lt;title&gt;Detalle del Juego&lt;/title&gt;</span>
<span class="x">&lt;/head&gt;</span>
<span class="x">&lt;body&gt;</span>
<span class="x">    </span><span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span><span class="nv">$juego</span><span class="p">)</span><span class="o">:</span> <span class="cp">?&gt;</span>
<span class="x">        &lt;h1&gt;</span><span class="cp">&lt;?</span><span class="o">=</span> <span class="nb">htmlspecialchars</span><span class="p">(</span><span class="nv">$juego</span><span class="p">[</span><span class="s1">'nombre'</span><span class="p">])</span> <span class="cp">?&gt;</span><span class="x">&lt;/h1&gt;</span>
<span class="x">        &lt;p&gt;Plataforma: </span><span class="cp">&lt;?</span><span class="o">=</span> <span class="nb">htmlspecialchars</span><span class="p">(</span><span class="nv">$juego</span><span class="p">[</span><span class="s1">'plataforma'</span><span class="p">])</span> <span class="cp">?&gt;</span><span class="x">&lt;/p&gt;</span>
<span class="x">        &lt;p&gt;Año: </span><span class="cp">&lt;?</span><span class="o">=</span> <span class="nb">htmlspecialchars</span><span class="p">(</span><span class="nv">$juego</span><span class="p">[</span><span class="s1">'anio'</span><span class="p">])</span> <span class="cp">?&gt;</span><span class="x">&lt;/p&gt;</span>
<span class="x">    </span><span class="cp">&lt;?php</span> <span class="k">else</span><span class="o">:</span> <span class="cp">?&gt;</span>
<span class="x">        &lt;h1&gt;Juego no encontrado&lt;/h1&gt;</span>
<span class="x">    </span><span class="cp">&lt;?php</span> <span class="k">endif</span><span class="p">;</span> <span class="cp">?&gt;</span>
<span class="x">&lt;/body&gt;</span>
<span class="x">&lt;/html&gt;</span>
</code></pre></div></p>
</details>
</div>
<h2 id="ejercicios-de-refuerzo">Ejercicios de Refuerzo</h2>
<div class="admonition warning">
<p class="admonition-title">4) Construyendo el Catálogo: El Modelo y su Lógica | Nivel: Medio</p>
<h5 id="objetivo_3"><strong>Objetivo:</strong></h5>
<p>Implementar una clase Modelo completa, utilizando una capa de abstracción de datos para independizarse del motor de base de datos.</p>
<h5 id="setup-inicial_2"><strong>Setup Inicial:</strong></h5>
<p>Te proporcionamos la clase <code>Database.php</code> que actúa como capa de abstracción.</p>
<p><strong><code>Database.php</code>:</strong>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="c1">// ... (El código de la clase Database del Paso 3 del tema) ...</span>
</code></pre></div></p>
<h5 id="tarea-a-realizar_3"><strong>Tarea a realizar:</strong></h5>
<ol>
<li>Crea el archivo <code>models/JuegoModel.php</code>.</li>
<li>
<p>Dentro de la clase <code>JuegoModel</code>, implementa los siguientes métodos utilizando la clase <code>Database</code>:</p>
<ul>
<li><code>__construct()</code>: Debe inicializar la conexión a la base de datos a través de la clase <code>Database</code>.</li>
<li><code>getAll()</code>: Debe devolver todos los juegos de la tabla <code>videojuegos</code>.</li>
<li><code>getById(int $id)</code>: Debe devolver un único juego buscando por su <code>id</code>.</li>
<li><code>findByPlatform(string $plataforma)</code>: Debe devolver todos los juegos que pertenezcan a una plataforma específica.</li>
</ul>
</li>
<li>
<p><strong>Pista:</strong> Recuerda que ahora tu modelo no usará <code>PDO</code> directamente, sino los métodos que ofrece la clase <code>Database</code>.</p>
</li>
</ol>
<h5 id="aplicacion-en-el-mundo-real_3"><strong>Aplicación en el Mundo Real:</strong></h5>
<p>Los Modelos son el corazón de la aplicación. En sistemas grandes, los modelos (a menudo llamados "Entidades" o "Repositorios") contienen lógica de negocio compleja, validaciones y relaciones con otros modelos, siendo una de las partes más críticas del software.</p>
<details class="success">
<summary>VER Solución.</summary>
<p><strong><code>models/JuegoModel.php</code>:</strong>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="k">declare</span><span class="p">(</span><span class="nx">strict_types</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span>

<span class="k">require_once</span> <span class="s1">'Database.php'</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">JuegoModel</span>
<span class="p">{</span>
    <span class="k">private</span> <span class="nx">Database</span> <span class="nv">$db</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Database</span><span class="p">(</span><span class="s1">'localhost'</span><span class="p">,</span> <span class="s1">'gamehub_db'</span><span class="p">,</span> <span class="s1">'root'</span><span class="p">,</span> <span class="s1">''</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">getAll</span><span class="p">()</span><span class="o">:</span> <span class="k">array</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">query</span><span class="p">(</span><span class="s1">'SELECT * FROM videojuegos ORDER BY nombre ASC'</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">getById</span><span class="p">(</span><span class="nx">int</span> <span class="nv">$id</span><span class="p">)</span><span class="o">:</span> <span class="o">?</span><span class="k">array</span>
    <span class="p">{</span>
        <span class="nv">$resultado</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">query</span><span class="p">(</span><span class="s1">'SELECT * FROM videojuegos WHERE id = :id'</span><span class="p">,</span> <span class="p">[</span><span class="s1">'id'</span> <span class="o">=&gt;</span> <span class="nv">$id</span><span class="p">]);</span>
        <span class="k">return</span> <span class="nv">$resultado</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">??</span> <span class="k">null</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">findByPlatform</span><span class="p">(</span><span class="nx">string</span> <span class="nv">$plataforma</span><span class="p">)</span><span class="o">:</span> <span class="k">array</span>
    <span class="p">{</span>
        <span class="nv">$sql</span> <span class="o">=</span> <span class="s1">'SELECT * FROM videojuegos WHERE plataforma = :plataforma ORDER BY anio DESC'</span><span class="p">;</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">query</span><span class="p">(</span><span class="nv">$sql</span><span class="p">,</span> <span class="p">[</span><span class="s1">'plataforma'</span> <span class="o">=&gt;</span> <span class="nv">$plataforma</span><span class="p">]);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></p>
</details>
</div>
<div class="admonition warning">
<p class="admonition-title">5) El Director de Orquesta: Creando el Controlador | Nivel: Medio</p>
<h5 id="objetivo_4"><strong>Objetivo:</strong></h5>
<p>Implementar una clase Controlador que utilice el Modelo para obtener datos y la clase Vista para renderizar la salida.</p>
<h5 id="setup-inicial_3"><strong>Setup Inicial:</strong></h5>
<p>Ya tienes el <code>JuegoModel.php</code> del ejercicio anterior y la clase <code>View.php</code> del tema.</p>
<h5 id="tarea-a-realizar_4"><strong>Tarea a realizar:</strong></h5>
<ol>
<li>Crea el archivo <code>controllers/JuegoController.php</code>.</li>
<li>
<p>Dentro de la clase <code>JuegoController</code>, implementa dos métodos (acciones):</p>
<ul>
<li><code>listar()</code>: Debe instanciar <code>JuegoModel</code>, llamar al método <code>getAll()</code>, y pasar los datos resultantes a <code>View::render()</code> para mostrar la vista <code>lista_juegos</code>.</li>
<li><code>ver()</code>: Debe recoger un <code>id</code> de la URL (<code>$_GET['id']</code>). Instanciará <code>JuegoModel</code>, llamará a <code>getById()</code> con ese id, y pasará el juego resultante a <code>View::render()</code> para mostrar la vista <code>detalle_juego</code>.</li>
</ul>
</li>
<li>
<p><strong>Pista:</strong> No olvides manejar el caso en que <code>getById()</code> no encuentre un juego. Puedes pasar un valor <code>null</code> a la vista y que la vista se encargue de mostrar un mensaje de "Juego no encontrado".</p>
</li>
</ol>
<h5 id="aplicacion-en-el-mundo-real_4"><strong>Aplicación en el Mundo Real:</strong></h5>
<p>Los controladores son el pegamento de la aplicación. En frameworks como Laravel o Symfony, los controladores gestionan la validación de formularios, la autenticación de usuarios, las redirecciones y toda la lógica de flujo de la aplicación.</p>
<details class="success">
<summary>VER Solución.</summary>
<p><strong><code>controllers/JuegoController.php</code>:</strong>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="k">declare</span><span class="p">(</span><span class="nx">strict_types</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span>

<span class="k">require_once</span> <span class="s1">'models/JuegoModel.php'</span><span class="p">;</span>
<span class="k">require_once</span> <span class="s1">'views/View.php'</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">JuegoController</span>
<span class="p">{</span>
    <span class="k">private</span> <span class="nx">JuegoModel</span> <span class="nv">$modelo</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">modelo</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">JuegoModel</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">listar</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$data</span><span class="p">[</span><span class="s1">'juegos'</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">modelo</span><span class="o">-&gt;</span><span class="na">getAll</span><span class="p">();</span>
        <span class="nv">$data</span><span class="p">[</span><span class="s1">'titulo'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'GameHub - Mi Colección'</span><span class="p">;</span>
        <span class="nx">View</span><span class="o">::</span><span class="na">render</span><span class="p">(</span><span class="s1">'lista_juegos'</span><span class="p">,</span> <span class="nv">$data</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">ver</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$id</span> <span class="o">=</span> <span class="p">(</span><span class="nx">int</span><span class="p">)(</span><span class="nv">$_GET</span><span class="p">[</span><span class="s1">'id'</span><span class="p">]</span> <span class="o">??</span> <span class="mi">0</span><span class="p">);</span>
        <span class="nv">$data</span><span class="p">[</span><span class="s1">'juego'</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">modelo</span><span class="o">-&gt;</span><span class="na">getById</span><span class="p">(</span><span class="nv">$id</span><span class="p">);</span>
        <span class="nv">$data</span><span class="p">[</span><span class="s1">'titulo'</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$data</span><span class="p">[</span><span class="s1">'juego'</span><span class="p">]</span> <span class="o">?</span> <span class="nv">$data</span><span class="p">[</span><span class="s1">'juego'</span><span class="p">][</span><span class="s1">'nombre'</span><span class="p">]</span> <span class="o">:</span> <span class="s1">'Juego no encontrado'</span><span class="p">;</span>
        <span class="nx">View</span><span class="o">::</span><span class="na">render</span><span class="p">(</span><span class="s1">'detalle_juego'</span><span class="p">,</span> <span class="nv">$data</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></p>
</details>
</div>
<h2 id="ejercicios-de-ampliacion">Ejercicios de Ampliación</h2>
<div class="admonition danger">
<p class="admonition-title">6) Funcionalidad Completa: Implementando el CRUD y Peer Review | Nivel: Alto</p>
<h5 id="objetivo_5"><strong>Objetivo:</strong></h5>
<p>Aplicar el patrón MVC para desarrollar una funcionalidad completa de Crear, Leer, Actualizar y Borrar (CRUD) para la gestión de videojuegos, y evaluar el trabajo de un compañero.</p>
<h5 id="tarea-a-realizar_5"><strong>Tarea a realizar:</strong></h5>
<ol>
<li><strong>Amplía tu <code>JuegoModel</code></strong> para incluir los siguientes métodos:<ul>
<li><code>create(array $datos)</code>: Inserta un nuevo juego en la base de datos.</li>
<li><code>update(int $id, array $datos)</code>: Actualiza un juego existente.</li>
<li><code>delete(int $id)</code>: Elimina un juego de la base de datos.</li>
</ul>
</li>
<li><strong>Amplía tu <code>JuegoController</code></strong> para incluir los siguientes métodos (acciones):<ul>
<li><code>mostrarFormularioCrear()</code>: Muestra una vista con un formulario HTML para añadir un nuevo juego.</li>
<li><code>guardar()</code>: Recibe los datos del formulario (<code>$_POST</code>), los valida mínimamente y llama al método <code>create</code> del modelo. Después, redirige al listado.</li>
<li><code>editar()</code>: Recibe un <code>id</code> por <code>$_GET</code>, obtiene los datos del juego y muestra el mismo formulario de creación, pero relleno con los datos del juego a editar.</li>
<li><code>actualizar()</code>: Recibe los datos del formulario de edición (<code>$_POST</code>) y el <code>id</code>, y llama al método <code>update</code> del modelo. Redirige al listado.</li>
<li><code>eliminar()</code>: Recibe un <code>id</code> por <code>$_GET</code> y llama al método <code>delete</code> del modelo. Redirige al listado.</li>
</ul>
</li>
<li><strong>Crea las Vistas necesarias:</strong><ul>
<li>Una vista <code>formulario_juego.php</code> que pueda servir tanto para crear como para editar un juego.</li>
<li>Modifica la vista <code>lista_juegos.php</code> para añadir enlaces de "Editar" y "Borrar" para cada juego, y un botón de "Añadir Nuevo Juego".</li>
</ul>
</li>
</ol>
<h5 id="peer-review-revision-por-pares"><strong>Peer Review (Revisión por Pares):</strong></h5>
<p>Una vez completado, intercambia tu código con un compañero. Revisa su solución y contesta a las siguientes preguntas, proporcionándole feedback constructivo:
*   ¿Se respeta estrictamente la separación de responsabilidades? ¿Hay alguna consulta a la BD en el Controlador o la Vista?
*   ¿La lógica de validación de datos está en el Controlador o en el Modelo? ¿Dónde crees que debería estar y por qué?
*   ¿El código es legible y sigue los estándares de estilo PSR-12?
*   Sugiere al menos una mejora que podría hacerse a su código.</p>
<h5 id="aplicacion-en-el-mundo-real_5"><strong>Aplicación en el Mundo Real:</strong></h5>
<p>El 90% del trabajo en aplicaciones de gestión (ERPs, CRMs, etc.) consiste en implementar pantallas CRUD. Dominar este flujo con MVC es una de las habilidades más fundamentales y demandadas para un desarrollador backend. La revisión por pares es una práctica estándar en equipos profesionales para mejorar la calidad del código y compartir conocimiento.</p>
<details class="success">
<summary>VER Solución.</summary>
<p>Esta solución es una propuesta y puede variar.</p>
<p><strong><code>models/JuegoModel.php</code> (métodos añadidos):</strong>
<div class="highlight"><pre><span></span><code><span class="x">// ... (dentro de la clase JuegoModel)</span>
<span class="x">public function create(string $nombre, string $plataforma, int $anio): bool</span>
<span class="x">{</span>
<span class="x">    $sql = "INSERT INTO videojuegos (nombre, plataforma, anio) VALUES (:nombre, :plataforma, :anio)";</span>
<span class="x">    // El método execute en nuestra clase Database debería devolver las filas afectadas</span>
<span class="x">    return $this-&gt;db-&gt;execute($sql, [</span>
<span class="x">        'nombre' =&gt; $nombre, </span>
<span class="x">        'plataforma' =&gt; $plataforma, </span>
<span class="x">        'anio' =&gt; $anio</span>
<span class="x">    ]) &gt; 0;</span>
<span class="x">}</span>

<span class="x">public function update(int $id, string $nombre, string $plataforma, int $anio): bool</span>
<span class="x">{</span>
<span class="x">    $sql = "UPDATE videojuegos SET nombre = :nombre, plataforma = :plataforma, anio = :anio WHERE id = :id";</span>
<span class="x">    return $this-&gt;db-&gt;execute($sql, [</span>
<span class="x">        'id' =&gt; $id,</span>
<span class="x">        'nombre' =&gt; $nombre, </span>
<span class="x">        'plataforma' =&gt; $plataforma, </span>
<span class="x">        'anio' =&gt; $anio</span>
<span class="x">    ]) &gt; 0;</span>
<span class="x">}</span>

<span class="x">public function delete(int $id): bool</span>
<span class="x">{</span>
<span class="x">    return $this-&gt;db-&gt;execute("DELETE FROM videojuegos WHERE id = :id", ['id' =&gt; $id]) &gt; 0;</span>
<span class="x">}</span>
</code></pre></div></p>
<p><strong><code>controllers/JuegoController.php</code> (métodos añadidos):</strong>
<div class="highlight"><pre><span></span><code><span class="x">// ... (dentro de la clase JuegoController)</span>
<span class="x">public function crear()</span>
<span class="x">{</span>
<span class="x">    View::render('formulario_juego', ['titulo' =&gt; 'Añadir nuevo juego']);</span>
<span class="x">}</span>

<span class="x">public function guardar()</span>
<span class="x">{</span>
<span class="x">    // Faltaría una validación robusta aquí</span>
<span class="x">    $this-&gt;modelo-&gt;create($_POST['nombre'], $_POST['plataforma'], (int)$_POST['anio']);</span>
<span class="x">    header('Location: /index.php?controller=juego&amp;action=listar'); // Redirigir</span>
<span class="x">}</span>

<span class="x">public function editar()</span>
<span class="x">{</span>
<span class="x">    $id = (int)($_GET['id'] ?? 0);</span>
<span class="x">    $data['juego'] = $this-&gt;modelo-&gt;getById($id);</span>
<span class="x">    $data['titulo'] = 'Editar ' . ($data['juego']['nombre'] ?? '');</span>
<span class="x">    View::render('formulario_juego', $data);</span>
<span class="x">}</span>

<span class="x">public function actualizar()</span>
<span class="x">{</span>
<span class="x">    $id = (int)($_POST['id'] ?? 0);</span>
<span class="x">    $this-&gt;modelo-&gt;update($id, $_POST['nombre'], $_POST['plataforma'], (int)$_POST['anio']);</span>
<span class="x">    header('Location: /index.php?controller=juego&amp;action=listar');</span>
<span class="x">}</span>

<span class="x">public function eliminar()</span>
<span class="x">{</span>
<span class="x">    $id = (int)($_GET['id'] ?? 0);</span>
<span class="x">    $this-&gt;modelo-&gt;delete($id);</span>
<span class="x">    header('Location: /index.php?controller=juego&amp;action=listar');</span>
<span class="x">}</span>
</code></pre></div></p>
<p><strong><code>views/templates/formulario_juego_view.php</code> (Nueva Vista):</strong>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span> <span class="nv">$esEdicion</span> <span class="o">=</span> <span class="nb">isset</span><span class="p">(</span><span class="nv">$juego</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nv">$juego</span><span class="p">;</span> <span class="cp">?&gt;</span>
<span class="x">&lt;form action="index.php?controller=juego&amp;action=</span><span class="cp">&lt;?</span><span class="o">=</span> <span class="nv">$esEdicion</span> <span class="o">?</span> <span class="s1">'actualizar'</span> <span class="o">:</span> <span class="s1">'guardar'</span> <span class="cp">?&gt;</span><span class="x">" method="post"&gt;</span>
<span class="x">    </span><span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span><span class="nv">$esEdicion</span><span class="p">)</span><span class="o">:</span> <span class="cp">?&gt;</span>
<span class="x">        &lt;input type="hidden" name="id" value="</span><span class="cp">&lt;?</span><span class="o">=</span> <span class="nv">$juego</span><span class="p">[</span><span class="s1">'id'</span><span class="p">]</span> <span class="cp">?&gt;</span><span class="x">"&gt;</span>
<span class="x">    </span><span class="cp">&lt;?php</span> <span class="k">endif</span><span class="p">;</span> <span class="cp">?&gt;</span>

<span class="x">    &lt;label&gt;Nombre:&lt;/label&gt;</span>
<span class="x">    &lt;input type="text" name="nombre" value="</span><span class="cp">&lt;?</span><span class="o">=</span> <span class="nb">htmlspecialchars</span><span class="p">(</span><span class="nv">$juego</span><span class="p">[</span><span class="s1">'nombre'</span><span class="p">]</span> <span class="o">??</span> <span class="s1">''</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x">" required&gt;</span>

<span class="x">    &lt;label&gt;Plataforma:&lt;/label&gt;</span>
<span class="x">    &lt;input type="text" name="plataforma" value="</span><span class="cp">&lt;?</span><span class="o">=</span> <span class="nb">htmlspecialchars</span><span class="p">(</span><span class="nv">$juego</span><span class="p">[</span><span class="s1">'plataforma'</span><span class="p">]</span> <span class="o">??</span> <span class="s1">''</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x">" required&gt;</span>

<span class="x">    &lt;label&gt;Año:&lt;/label&gt;</span>
<span class="x">    &lt;input type="number" name="anio" value="</span><span class="cp">&lt;?</span><span class="o">=</span> <span class="nb">htmlspecialchars</span><span class="p">(</span><span class="nv">$juego</span><span class="p">[</span><span class="s1">'anio'</span><span class="p">]</span> <span class="o">??</span> <span class="s1">''</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x">" required&gt;</span>

<span class="x">    &lt;button type="submit"&gt;</span><span class="cp">&lt;?</span><span class="o">=</span> <span class="nv">$esEdicion</span> <span class="o">?</span> <span class="s1">'Actualizar'</span> <span class="o">:</span> <span class="s1">'Guardar'</span> <span class="cp">?&gt;</span><span class="x">&lt;/button&gt;</span>
<span class="x">&lt;/form&gt;</span>
</code></pre></div></p>
</details>
</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.sections", "navigation.top"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.92b07e13.min.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>